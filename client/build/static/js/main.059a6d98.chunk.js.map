{"version":3,"sources":["config/index.js","utils/axios.js","api/index.js","utils/storeUtils.js","pages/login/login.js","utils/common.js","components/link-a/index.js","components/header/index.js","config/menuConfig.js","components/left-nav/index.js","pages/home/home.js","pages/category/add-form.js","pages/category/update-form.js","pages/category/category.js","pages/role/role.js","pages/user/user.js","pages/product/product.js","pages/product/upload.js","pages/product/richTextEdit.js","pages/product/add.js","pages/product/detail.js","pages/product/index.js","pages/charts/line.js","pages/charts/pie.js","pages/charts/bar.js","pages/github/index.js","pages/order/order.js","pages/admin/admin.js","App.js","index.js"],"names":["module","exports","serverAddress","baseURl","imgUrl","axios","interceptors","request","use","response","error","status","Promise","reject","url","promise","type","data","defaults","headers","common","store","get","config","resolve","paramStr","Object","keys","forEach","key","substring","length","Date","post","then","res","message","msg","catch","err","reqLogin","reqCatagoryList","reqAddCategory","reqDeleteCategory","reqUpdateCategory","reqAddProduct","reqDelUploadImg","reqProductStatus","reqProductUpdate","reqDeleteProduct","reqProductList","reqSearchProduct","user","set","value","remove","clearAll","Login","handleSubmit","e","preventDefault","props","form","validateFields","values","a","assign","username","btoa","password","token","history","replace","this","validatorPwd","rule","callback","to","getFieldDecorator","className","onSubmit","Item","rules","required","min","max","pattern","initialValue","prefix","style","color","placeholder","validator","htmlType","onClick","Component","WrappeLoginForm","create","name","moment","locale","getCurrentDate","date","format","params","href","text","target","HeaderSelf","state","weather","weatherText","address","exitAhref","exitConfirm","confirm","title","content","okText","cancelText","confirmLoading","onOk","exitTimerID","setTimeout","console","log","city","dayPictureUrl","setState","imgSrc","address_detail","getWeather","getAddress","timerID","setInterval","clock","clearInterval","src","alt","withRouter","menuList","icon","isPublic","children","SubMenu","LeftNav","toggleCollapsed","collapsed","menuNav_map","menuConfig","map","item","menuNav_reduce","arr","reduce","pre","push","getCurrentReqParentPath","menuLists","location","pathname","getCurrentReqPath","element","cItem","includes","mode","theme","selectedKeys","defaultOpenKeys","Option","addForm","setForm","categoryList","currentRowData","labelCol","span","wrapperCol","label","_id","onChange","handleSelectChange","WrappedApp","UpdateForm","loading","subCategoryList","parentId","subCategoryListNavName","showModal","deleteCategory","record","okType","getCategoryList","onCancel","updateCategory","addCatagory","getSubCategoryList","addCategoryModalHandleOk","categoryId","categoryName","resetFields","updateCategoryModalHandleOk","modalHandleCancel","addCatagoryBtn","CatagoryBtn","initColumns","dataIndex","width","render","cursor","extra","dataSource","columns","bordered","rowKey","pagination","pageSize","visible","Text","PAGE_SIZE","btnStyle","marginLeft","Product","pageNum","selectValue","productListSource","total","btnLoading","tableLoading","inputPlaceholder","inputValue","上架_下架","product","productId","success","getProductList","productUpdate","productDelete","productDetail","selectHandleChange","addProductBtn","stopPropagation","list","size","defaultValue","marginRight","transform","current","defaultPageSize","showQuickJumper","getBase64","file","reader","FileReader","readAsDataURL","onload","result","onerror","PicturesWall","previewVisible","previewImage","fileList","handleCancel","handlePreview","preview","originFileObj","getImgs","handleChange","event","currentFile","img","index","uid","uploadButton","accept","action","listType","onPreview","showUploadList","footer","React","richTextEdit","editorState","EditorState","createEmpty","onEditorStateChange","getInputData","draftToHtml","convertToRaw","getCurrentContent","html","preDetail","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","createWithContent","editorStyle","border","minHeight","lineHeight","textIndent","TextArea","ProductAdd","productClassList","cardTitle","imgs","myRef","richEditTextRef","prdCategory","pCategoryId","prdName","price","prdPrice","desc","prdDesc","detail","isUpdate","oldData","getProductClass","initSelectOptions","productLoadData","selectedOptions","targetOption","optionsChildren","isLeaf","subProductClass","childOptions","find","priceValidator","createRef","goBack","fontSize","xs","sm","autosize","suffix","options","loadData","ref","offset","listStyle","ProductDetail","listTitle","header","exact","path","component","chatHref","blogHref","padding","gutter","hoverable","order","Footer","Sider","Content","Admin","onCollapse","collapsible","margin","background","Home","Category","Role","User","Bar","Line","Pie","Order","GitHub","textAlign","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.059a6d98.chunk.js","sourcesContent":["module.exports={\n  serverAddress:'http://localhost:8081',\n  baseURl:'/api',\n  imgUrl:'http://localhost:8081/upload/'\n}","/**\n * @description 封装axios\n */\nimport React from 'react';\nimport {message} from 'antd'\nimport store from 'store'\nimport config from '../config'\nimport axios from 'axios'\nimport {Redirect} from 'react-router-dom'\n\n// 把 Token 存在localStroage,每次请求在 Axios 请求头上进行携带\nfunction redirect(){\n  return  (<Redirect to={'/login'}></Redirect>)\n}\n\n// 请求拦截\naxios.interceptors.request.use()\n\n// 响应拦截\naxios.interceptors.response.use(\n  response => {\n    return response\n  },\n  error => {\n    if (error.response) {\n      switch (error.response.status) {\n        case 401:\n        // store.clearAll();\n        // redirect();\n        break;\n      }\n    }\n    return Promise.reject(error.response)\n  }\n)\n\nexport default function (url, type = 'GET', data) {\n  axios.defaults.headers.common['Authorization'] = store.get('token')\n  let promise;\n  url=config.baseURl+url\n  // 返回一个promise，统一处理错误\n  return new Promise((resolve, reject) => {\n    // 1.执行异步请求\n    if (type === 'GET') {\n      let paramStr = ''\n      Object.keys(data).forEach(key => {\n          paramStr += `${key}=${data[key]}&`\n      })\n      if(paramStr) {\n          paramStr = paramStr.substring(0, paramStr.length-1)\n        }\n      promise = axios.get(url+'?'+paramStr+'&t='+new Date())\n    } else {\n      promise = axios.post(url, data)\n    }\n    promise.then(res => {\n      // 2.成功调用resolve\n      if(res.data&&res.data.status===0){\n          resolve(res.data)\n      }else{\n        message.error(res.data.msg)\n      }\n    }).catch(err => {\n      const {data}= err\n      if(data&&data.msg){\n        message.error('请求出错'+data.msg)\n        return \n      }\n      // 3.失败调用reject，但是不能调用，调用就进入外层catch里了，为了不在外层用try...catch这里显式的返回error\n      message.error('请求出错'+err.message)\n    })\n  })\n}","/**\n * @param 应用接口\n */\nimport request from '../utils/axios'\nimport jsonp from 'jsonp'\n// import md5 from 'md5'\nimport {\n  message\n} from 'antd'\nexport const reqLogin = data => request('/login', 'POST', data)\nexport const reqAddUser = data => request('/manage/user/add', 'POST', data)\n\nexport const reqWeather = (city) => {\n  return new Promise((resolve, reject) => {\n    const getData = (city) => {\n      const url = `https://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`\n      jsonp(url, {}, (err, data) => {\n        if (data && data.status === 'success') {\n          resolve(data.results[0].weather_data[0])\n        } else {\n          message.error(data.status)\n        }\n      })\n    }\n    // getData(city)\n    // if (\"geolocation\" in navigator) {\n    //   getData()\n    //   navigator.geolocation.getCurrentPosition(function (position) {\n    //     console.log(position)\n    //     const city = `${position.coords.longitude},${position.coords.latitude}`\n    //     getData(city)\n    //   })\n    // } else {\n    //   getData()\n    // }\n  })\n}\n\nexport const reqAddress=()=>{\n    return new Promise((resolve,reject)=>{\n      // jsonp('https://api.map.baidu.com/location/ip?ak=PFlNd9vKhGalbukR6ZIlFKzKvFsutPWV',(err,data)=>{\n      //   if(data&&data.status===0){\n      //     resolve(data.content)\n      //   }else{\n      //     message.error('请求定位接口失败')\n      //     reject('请求定位接口失败')\n      //   }\n      // })\n    })\n}\n\n// 获取分类列表\nexport const reqCatagoryList=(data)=>request('/manage/category/list','GET',data)\n\n// 添加分类\nexport const reqAddCategory=(data)=>request('/manage/category/add','POST',data)\n\n// 删除分类\nexport const reqDeleteCategory=(data)=>request('/manage/category/delete','POST',data)\n\n// 更新分类\nexport const reqUpdateCategory=(data)=>request('/manage/category/update','POST',data)\n\n// 获取分类名称\nexport const reqCategoryName=(data)=>request('/manage/category/info','GET',data)\n\n// 添加产品\nexport const reqAddProduct=(data)=>request('/manage/product/add','POST',data)\n\n// 上传图片\nexport const reqUploadImg=(data)=>request('/manage/img/upload','POST',data)\n\n// 删除上传图片\nexport const reqDelUploadImg=(data)=>request('/manage/img/delete','POST',data)\n\n\n\n\n// 产品上架/下架\nexport const reqProductStatus=(data)=>request('/manage/product/updateStatus','POST',data)\n\n// 产品上架/下架\nexport const reqProductUpdate=(data)=>request('/manage/product/update','POST',data)\n\n// 删除产品\nexport const reqDeleteProduct=(data)=>request('/manage/product/delete','POST',data)\n\n// 获取产品列表\nexport const reqProductList=(data)=>request('/manage/product/list','GET',data)\n\n// 搜索产品\nexport const reqSearchProduct=(data)=>request('/manage/product/search','GET',data)","/**\n * @description localStore\n */\nimport store from 'store'\nexport default {\n  user:null,\n  set(key, value){\n    // localStorage.setItem(key, JSON.stringify(value))\n    store.set(key,value)\n  },\n  get(key) {\n    // return JSON.parse(localStorage.getItem(key) || '{}')\n    return store.get(key)\n  },\n  remove(key){\n    // localStorage.removeItem(key)\n    store.remove(key)\n  },\n  clearAll(){\n    store.clearAll()\n  }\n}","import React, { Component } from 'react';\nimport { Form, Icon, Input, Button,message} from 'antd';\nimport {Redirect} from 'react-router-dom'\nimport {reqLogin} from '../../api'\nimport store from '../../utils/storeUtils'\nimport './login.less'\nclass Login extends Component {\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields(\n      async (err, values) => { //可以对所有结果校验，并返回结果\n        if (!err) {\n          values=Object.assign(values,{username:btoa(values.username),password:btoa(values.password)})\n          const res = await reqLogin(values)\n          if (res.status === 0) {\n            // message.success('登录成功！')\n            store.set('user_key', res.data) //全局存储\n            store.set('token', res.token) //全局存储\n            store.user=res.data\n            this.props.history.replace('/') // 登录成功，跳转页面,不需要回退，所以用replace不用push\n          } else {\n            message.error(res.msg)\n          }\n        }\n      });\n  };\n  // 自定义密码验证规则\n  validatorPwd=(rule, value, callback)=>{\n    // 无论验证成功与否callback()必须调用\n    if(!value){\n      callback('请输入密码！')\n    }else if(value.length<4||value.length>12){\n      callback('密码长度应大于4小于12位！') //验证不通过传入错误提示\n    }\n    callback()//验证成功无提示\n  }\n  render() {\n    // 如果检测到登录信息自动登录\n    if(store.user){\n      return <Redirect to='/'/>\n    }\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <div className='login'>\n        <div className='header'>\n        </div>\n        <div className='content'>\n          <section className='login-form'>\n          <div className='login-label'> <span >管理平台</span></div>\n          <Form onSubmit={this.handleSubmit} className=\"\">\n          <Form.Item>\n          {getFieldDecorator('username', {\n            rules: [\n              { required: true,message: '请输入用户名！',min:4},\n              { message: '用户名长度应大于4小于12位！',min:4,max:12},\n              { message: '用户名只能含有数字、英文、下划线!',pattern:/^[a-zA-Z0-9_]+$/ },//+号可以匹配任意多个字符\n            ],\n            initialValue: 'admin', // 初始值\n          })(\n            <Input\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              placeholder=\"用户名\"\n            />,\n          )}\n          </Form.Item>\n          <Form.Item>\n          {getFieldDecorator('password', {\n            rules: [\n              { validator:this.validatorPwd},//自定义校验规则\n            ],\n            initialValue: 'admin', // 初始值\n          })(\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              type=\"password\"\n              placeholder=\"密码\"\n            />,\n          )}\n          </Form.Item>\n          <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" className='login-btn' onClick={this.onSubmit}>\n            登录\n          </Button>\n          </Form.Item>\n        </Form>\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst WrappeLoginForm = Form.create({ name: 'normal_login' })(Login);\nexport default WrappeLoginForm\n","import moment from 'moment'\nmoment.locale('zh-cn'); \nexport const getCurrentDate=(date)=>{\n return moment(date).format('HH:mm:ss a')\n}","import React from 'react';\n\n/**\n * \n * @param {*} @param: params object\n * @description \n */\nexport default function(props){\n  const {href,text,target}=props.params || {} \n  return (\n    <a href={href} target={target}>{text}</a>\n  )\n}","import React, { Component } from 'react';\nimport {Modal, Button} from 'antd'\nimport {withRouter} from 'react-router-dom'\nimport store from '../../utils/storeUtils'\nimport {reqWeather,reqAddress} from '../../api'\nimport {getCurrentDate} from '../../utils/common'\nimport LinkA from '../../components/link-a'\nimport './index.less'\n\nclass HeaderSelf extends Component {\n  state = { \n    weather:'',\n    date:getCurrentDate(new Date()),\n    weatherText:'',\n    address:''\n   }\n   params={\n    href:'https://github.com/Composur/react-manage',\n    target:'_black',\n    text:'获取（前端+后台）源码'\n  }\n  exitAhref={\n    href:'#',\n    text:'退出'\n  }\n  exitConfirm=(e)=>{\n    e.preventDefault();\n    Modal.confirm({\n      title:'退出',\n      content: '确定退出？',\n      okText:'退出',\n      cancelText:'取消',\n      confirmLoading:true,\n      onOk:()=> {\n        return new Promise((resolve, reject) => {\n          this.exitTimerID=setTimeout(()=>{\n            store.clearAll()\n            // store.remove('user_key')\n            store.user=null\n            resolve(null)\n            this.props.history.replace('/')\n          },500);\n        }).catch(() => console.log('Oops errors!'));\n      },\n    })\n  }\n  async getWeather(city){\n    const {date,dayPictureUrl,weather} = await reqWeather(city)\n    this.setState({\n      weather:date,\n      imgSrc:dayPictureUrl,\n      weatherText:weather\n    })\n  }\n  async getAddress(){\n    try {\n      const {address,address_detail}= await reqAddress()\n      // 坐标取值不准确\n      // let {x,y}=point\n      // x=(x/100000).toFixed(4)-13\n      // y=(y/100000).toFixed(4)-13\n      let {city}=address_detail\n      if(!city){city='深圳'}\n      this.getWeather(city)\n      this.setState({\n        address\n      })\n    } catch (error) {\n      this.getWeather()\n    }\n  }\n  componentDidMount(){\n    this.getAddress()\n    this.timerID = setInterval(()=>{\n      this.clock()\n    },1000)\n  }\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n    clearInterval(this.exitTimerID);\n  }\n  clock(){\n    this.setState({\n      date:getCurrentDate(new Date())\n    })\n  }\n  render() {\n    const username=store.user.username\n    \n    return (\n      <div className='header'>\n        <div className='header-top'>\n          <span>欢迎您，{username}</span>\n          <Button type='link' onClick={this.exitConfirm}>退出</Button>\n        </div>\n        <div className='header-buttom'>\n          <span className='getSource'>\n          <LinkA params={this.params}/>\n          </span>\n          <span>{this.state.address}</span>\n          <span>{this.state.weather}</span>\n          <span>{this.state.date}</span>\n          <span>{this.state.weatherText}</span>\n          <span className='header-buttom-weather-img'><img src={this.state.imgSrc} alt=''></img></span>\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(HeaderSelf)","const menuList = [\n  {\n    title: '首页', // 菜单标题名称\n    key: '/home', // 对应的path\n    icon: 'home', // 图标名称\n    isPublic: true, // 公开的\n  },\n  {\n    title: '商品',\n    key: '/products',\n    icon: 'appstore',\n    children: [ // 子菜单列表\n      {\n        title: '品类管理',\n        key: '/category',\n        icon: 'bars'\n      },\n      {\n        title: '商品管理',\n        key: '/product',\n        icon: 'tool'\n      },\n    ]\n  },\n\n  {\n    title: '用户管理',\n    key: '/user',\n    icon: 'user'\n  },\n  {\n    title: '角色管理',\n    key: '/role',\n    icon: 'safety',\n  },\n\n  {\n    title: '图形图表',\n    key: '/charts',\n    icon: 'area-chart',\n    children: [\n      {\n        title: '柱形图',\n        key: '/charts/bar',\n        icon: 'bar-chart'\n      },\n      {\n        title: '折线图',\n        key: '/charts/line',\n        icon: 'line-chart'\n      },\n      {\n        title: '饼图',\n        key: '/charts/pie',\n        icon: 'pie-chart'\n      },\n    ]\n  },\n\n  {\n    title: '订单管理',\n    key: '/order',\n    icon: 'windows',\n  },\n  {\n    title: 'GitHub',\n    key: '/github',\n    icon: 'github',\n  },\n]\n\nexport default menuList","import React, { Component } from 'react'\nimport { Menu, Icon } from 'antd';\nimport {Link,withRouter} from 'react-router-dom'\nimport menuLists from '../../config/menuConfig'\nimport './index.less'\n\nconst { SubMenu } = Menu;\nclass LeftNav extends Component {  \n  constructor(props){\n    super(props)\n    this.state = {\n      collapsed: false,\n    };\n    this.getCurrentReqParentPath(menuLists,this.props.location.pathname )\n  }\n  // 保持选中状态\n  getCurrentReqParentPath(arr,getCurrentReqPath){\n    // const PATH='/product'\n    // if(getCurrentReqPath.indexOf(PATH)===0){\n    //   debugger\n    //   //得到需要选中的item\n    //   // getCurrentReqPath=PATH\n    //   this.currentReqPath=PATH\n    // }else{\n    //   this.currentReqPath=getCurrentReqPath\n    // }\n    arr.forEach(element => {\n      if(element.children){\n        element.children.forEach((cItem)=>{\n          if(getCurrentReqPath.includes(cItem.key)){\n            // 得到需要展开的key\n            this.getCurrentReqParentPath=element.key\n          }\n        })\n      }\n    });\n  }\n  toggleCollapsed = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  };\n  // 根据导航json格式进行递归渲染\n  // 方式一：map\n  menuNav_map = (menuConfig) => {\n    return menuConfig.map(item => {\n      if(item.children){\n        return (\n          <SubMenu  key={item.key}   title={\n            <span>\n              <Icon type={item.icon} />\n              <span>{item.title}</span>\n            </span>\n          }\n        >\n        { this.menuNav_map(item.children)  }\n        </SubMenu>\n        )\n      }else{\n        return (\n          <Menu.Item key={item.key}>\n          <Link to={item.key}>\n            <Icon type={item.icon} />\n            <span>{item.title}</span>\n          </Link>\n        </Menu.Item>\n        )\n      }\n    })\n  }\n  // 方式二：reduce\n  menuNav_reduce=(arr)=>{\n    return arr.reduce((pre,item)=>{\n      if(item.children){\n        pre.push(\n          <SubMenu  key={item.key}   title={\n            <span>\n              <Icon type={item.icon} />\n              <span>{item.title}</span>\n            </span>\n          }\n        >\n        { this.menuNav_reduce(item.children)  }\n        </SubMenu>\n        )\n      }else{\n        pre.push(\n          <Menu.Item key={item.key}>\n          <Link to={item.key}>\n            <Icon type={item.icon} />\n            <span>{item.title}</span>\n          </Link>\n        </Menu.Item>\n        )\n      }  \n      return pre    \n    },[])\n  }\n \n  render() {\n    //这样是获取不到的，因为不是路由组件没有经过router的包装\n    let getCurrentReqPath=this.props.location.pathname \n    if(getCurrentReqPath.includes('/product')){getCurrentReqPath='/product'}\n    const getCurrentReqParentPath=this.getCurrentReqParentPath\n    return (\n      <div className='left-nav' >\n\n        <Link to='/'>\n          <header className='left-nav-header'>\n          <h1 className='left-nav-header-content'>管理系统</h1>\n          </header>\n        </Link>\n        \n        <Menu mode=\"inline\" theme=\"dark\" selectedKeys={[getCurrentReqPath]}\n         defaultOpenKeys={[getCurrentReqParentPath]}\n         >\n          {this.menuNav_reduce(menuLists)}\n        </Menu>\n\n      </div>\n    );\n  }\n}\n// 高阶组件\n// 新的组件向非路由组件传递history、match、location\nexport default withRouter(LeftNav)","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <h1>Home</h1>\n    );\n  }\n}","import React, { Component } from 'react';\nimport {Form,Select,Input} from 'antd'\nimport PropTypes from 'prop-types'\nconst { Option } = Select;\nclass addForm extends Component {\n  static propTypes={\n    categoryList:PropTypes.array.isRequired,\n    setForm:PropTypes.func.isRequired,\n    currentRowData:PropTypes.object.isRequired //父级分类id\n  }\n  componentDidMount(){\n    this.props.setForm(this.props.form)\n  }\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { categoryList,currentRowData}=  this.props\n    return (\n      <Form labelCol={{ span: 5 }} wrapperCol={{ span: 17 }}>\n      <Form.Item label=\"选择分类\">\n        {getFieldDecorator('categoryId', {\n          rules: [{ required: true, message: '请选择分类!' }],\n          initialValue:currentRowData._id\n        })(\n          <Select\n            placeholder=\"选择分类\"\n            onChange={this.handleSelectChange}\n          >\n          <Option value={'0'} key={'124'}>分类名称</Option>\n          {\n            categoryList.map(item=><Option value={item._id} key={item._id}>{item.name}</Option> )\n          }\n          </Select>\n        )}\n      </Form.Item>\n\n      <Form.Item label=\"分类名称\">\n        {getFieldDecorator('categoryName', {\n          rules: [{ required: true, message: '请输入分类!' }],\n        })(<Input placeholder=\"输入分类\" />)}\n       </Form.Item>\n\n      </Form>\n    );\n  }\n}\nconst WrappedApp = Form.create({ name: 'coordinated' })(addForm);\nexport default (WrappedApp);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types'\n\nimport {Form,Input} from 'antd'\nclass UpdateForm extends Component {\n  static propTypes={\n    currentRowData:PropTypes.object.isRequired,\n    setForm:PropTypes.func.isRequired\n  }\n  componentDidMount(){\n    this.props.setForm(this.props.form)\n  }\n  render() {\n    const {name}=this.props.currentRowData\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Form labelCol={{ span: 5 }} wrapperCol={{ span: 17 }}>\n    \n      <Form.Item label=\"分类名称\">\n        {getFieldDecorator('categoryName', {\n          rules: [{ required: true, message: '请输入分类名称!' }],\n          initialValue:name\n        })(<Input placeholder=\"输入分类\"/>)}\n       </Form.Item>\n\n      </Form>\n    );\n  }\n}\nconst WrappedApp = Form.create()(UpdateForm);\nexport default (WrappedApp);","import React, { Component } from 'react';\nimport { Card ,Table,Button,Icon,Modal,Breadcrumb} from 'antd';\nimport {reqCatagoryList,reqAddCategory,reqUpdateCategory,reqDeleteCategory} from '../../api'\nimport AddForm from './add-form'\nimport UpdateForm from './update-form'\nconst { confirm } = Modal;\nexport default class  extends Component {\n    state = { \n      loading:false,\n      categoryList:[],//一级列表\n      subCategoryList:[],//子分类列表\n      parentId:'0',//初始获取一级列表\n      subCategoryListNavName:'',\n      showModal:0,//0:都不显示；1：显示添加一级分类；2：修改分类\n      currentRowData:{}, //默认一级\n      confirmLoading:false\n   }\n  constructor(props){\n    super(props)\n    this.addCatagoryBtn=this.CatagoryBtn()\n    this.initColumns=this.initColumns()\n  }\n  initColumns(){\n    return  [\n      {\n        title: '分类名称',\n        key: 'name',\n        dataIndex: 'name',\n      },\n      {\n        title: '操作',\n        key: '02',\n        width:300,\n        render:(record)=>(\n          <span>\n          <Button type=\"link\" onClick={()=>(\n            this.updateCategory(record)\n          )}>修改</Button>\n          <Button type=\"link\" onClick={()=>(\n            this.deleteCategory(record)\n          )}>删除</Button>\n          {\n            this.state.parentId==='0'? <Button type=\"link\" onClick={()=>(\n              this.getSubCategoryList(record)\n             )}>查看子分类</Button>:null\n          }\n          </span>\n        )\n      },\n    ];\n  }\n  deleteCategory= (record)=>{\n    confirm({\n      title: '确认删除该分类?',\n      content: record.name,\n      okText: 'Yes',\n      okType: 'danger',\n      cancelText: 'No',\n      onOk: async ()=> {\n        const res = await reqDeleteCategory({_id:record._id})\n        if(res.status===0){\n          this.getCategoryList()\n        }\n      },\n      onCancel() {\n        \n      },\n    })\n  }\n  updateCategory= (data)=>{\n    this.setState({\n      showModal: 2,\n      currentRowData:data\n    });\n  }\n  CatagoryBtn(){\n    return  <Button type='primary' onClick={this.addCatagory}><Icon type='plus'></Icon>添加</Button>\n  }\n  // 显示添加分类模态框\n  addCatagory=()=>{\n    this.setState({\n      showModal: 1,\n    });\n  }\n  // 获取列表\n  getCategoryList=async ()=>{\n    const {parentId} =this.state\n    this.setState({loading:true})\n    const params={parentId:parentId}\n    const {data} = await reqCatagoryList(params)\n    if(parentId==='0'){\n      this.setState({categoryList:data,loading:false}) //一级列表\n    }else{\n      this.setState({subCategoryList:data,loading:false}) //子列表\n    }\n  }\n  // 获取子列表\n  getSubCategoryList=(data)=>{\n    this.setState({\n      parentId:data._id,\n      subCategoryListNavName:data.name,\n      currentRowData:data\n    },()=>{\n      this.getCategoryList()\n    })\n  }\n  // 一级列表回显\n  categoryList=()=>{\n    this.setState({\n      parentId:'0',\n      subCategoryList:[],\n      subCategoryListNavName:null,\n      currentRowData:{_id:'0',name:'一级分类'}, //默认一级\n    })\n  }\n  // 添加分类\n  addCategoryModalHandleOk =  e => {\n    this.form.validateFields( async (err,values)=>{\n      if(!err){\n        this.setState({\n          confirmLoading: true,\n        });\n        const {categoryId,categoryName} = values\n        const params = {\n          categoryName,\n          parentId: categoryId\n        }\n        const {status} = await reqAddCategory(params)\n        this.form.resetFields()\n        if(status===0){\n          this.setState({\n            showModal: 0,\n            confirmLoading: false,\n          });\n          // 当前列表才去请求\n          if(this.state.parentId===categoryId){\n            this.getCategoryList()\n          }else if(categoryId==='0'){  //在二级列表下添加一级列表项\n            // debugger\n          }\n        }\n      }\n    })\n   \n  };\n  // 修改分类\n  updateCategoryModalHandleOk  =  e => {\n   this.form.validateFields(async(err,values)=>{\n     if(!err){\n      this.setState({\n        confirmLoading: true,\n      });\n      const params = {\n        categoryName: values.categoryName,\n        categoryId: this.state.currentRowData._id\n      }\n      this.form.resetFields()\n      const {status} = await reqUpdateCategory(params)\n      if(status===0){\n        this.setState({\n          showModal: 0,\n          confirmLoading: false,\n        });\n        // 更新列表\n        this.getCategoryList()\n      }\n     }\n   })\n  };\n  // 关闭模态框\n  modalHandleCancel = e => {\n    this.setState({\n      showModal: 0,\n      currentRowData:{}\n    });\n    \n    // 清除antd缓存的input数据，只要触发input就会缓存当前值,需要清除当前值\n    this.form.resetFields()\n    // 也可以动态改变input的值\n    // this.form.setFieldsValue({\n    //   categoryId: this.state.currentRowData.name,\n    // });\n  };\n  componentDidMount(){\n    this.getCategoryList()\n  }\n  render() {\n    const {categoryList,loading,showModal,parentId,subCategoryList,subCategoryListNavName,currentRowData,confirmLoading} =this.state\n    const title= (\n      <Breadcrumb>\n        <Breadcrumb.Item onClick={this.categoryList} style={{cursor:'pointer'}}>品类管理</Breadcrumb.Item>\n        <Breadcrumb.Item >{subCategoryListNavName}</Breadcrumb.Item>\n      </Breadcrumb>\n    )\n    return (\n      <div>\n        <Card title={title} extra={this.addCatagoryBtn} >\n          <Table dataSource={parentId==='0'?categoryList:subCategoryList} columns={this.initColumns} bordered rowKey='_id'\n            loading={loading}\n            pagination ={{pageSize:5}}\n          />\n        </Card>\n        <Modal\n          title=\"添加分类\"\n          visible={showModal===1}\n          onOk={this.addCategoryModalHandleOk}\n          onCancel={this.modalHandleCancel}\n          confirmLoading={confirmLoading}\n          >\n          <AddForm categoryList={categoryList} currentRowData={currentRowData} setForm={(form)=>{this.form=form}}/>\n        </Modal>\n        <Modal\n          title=\"修改分类\"\n          visible={showModal===2}\n          onOk={this.updateCategoryModalHandleOk}\n          onCancel={this.modalHandleCancel}\n          confirmLoading={confirmLoading}\n          >\n          {/* 通过函数得到子组件的form对象;子组件调用setFrom(form) */}\n          <UpdateForm setForm={(form)=>{this.form=form}} currentRowData={currentRowData}/>\n        </Modal>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>role</div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>user</div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport {withRouter} from 'react-router-dom'\nimport { Card,Select,Button,Table,Input,message,Typography} from 'antd';\nimport {reqProductList,reqSearchProduct,reqDeleteProduct,reqProductStatus} from '../../api'\n\nconst { Option } = Select;\nconst { Text } = Typography;\nconst PAGE_SIZE = 2\nconst btnStyle={\n  marginLeft:'0.5rem'\n}\nclass Product extends Component {\n  state = {\n    pageNum:1,\n    selectValue: '1',\n    productListSource:[],\n    total:0,\n    btnLoading:false,\n    tableLoading:false,\n    inputPlaceholder:'请输入名称',\n    inputValue:'',\n    loading:false\n  };\n  constructor(){\n    super()\n    const {loading} = this.state\n    this.columns = [\n      {\n        title: '商品名称',\n        dataIndex: 'name',\n      },\n      {\n        title: '价格',\n        dataIndex: 'price',\n        render:(record)=>(`￥${record}`)\n      },\n      {\n        title: '商品描述',\n        dataIndex: 'desc',\n      },\n      // {\n      //   title: '详情',\n      //   dataIndex: 'detail',\n      // },\n      {\n        title: '状态',\n        render:(record)=>(<span><Text type={record.status?'success':'danger'} >{record.status?'在售':'下架'}</Text><Button size='small' style={btnStyle} loading={loading}\n          onClick={()=>this.上架_下架(record)}\n          type='primary'>{record.status?'下架':'上架'}</Button></span>\n          )\n      },\n      {\n        title: '操作',\n        render:(record)=>(\n          <span>\n          <Button type=\"link\" onClick={()=>(\n            this.productDetail(record)\n          )}>详情</Button>\n          <Button type=\"link\" onClick={()=>(\n            this.productUpdate(record)\n          )}>修改</Button>\n          <Button type=\"link\" loading={this.state.btnLoading} onClick={()=>(\n            this.productDelete(record)\n            )}>删除</Button>\n          </span>\n        )\n      },\n    ];\n  }\n  // 上架\n  //  const {productId, status} = req.body\n  // 下架 用中文没毛病 维持好就行 0 下架 1上架\n  上架_下架= async (product)=>{\n    this.setState({loading:true})\n    const params={\n      productId:product._id,\n    }\n    if(product.status){\n      params.status=0\n    }else{\n      params.status=1\n    }\n    const res= await reqProductStatus(params)\n    if(res.status===0){\n      this.setState({loading:false})\n      message.success('更新成功！')\n      this.getProductList(this.pageNum)\n    }\n  }\n  productUpdate= async (record)=>{\n    this.props.history.push('/product/add',record)\n  }\n  productDelete = async (record) =>{\n    const res = await reqDeleteProduct({_id:record._id}) \n    if(res.status===0){\n      this.getProductList(1)\n    }\n  }\n  // 商品详情\n  productDetail = (data) => {\n    const data1 = [\n      'Racing car sprays burning fuel into crowd.',\n      'Japanese princess to wed commoner.',\n      'Australian walks 100km after outback crash.',\n      'Man charged over missing wedding girl.',\n      'Los Angeles battles huge wildfires.',\n      'Los Angeles battles huge wildfires.',\n    ];\n    this.props.history.push({\n      pathname: '/product/detail',\n      state: data\n    })\n  }\n  // 搜索筛选框\n  selectHandleChange = selectValue => {\n    this.setState({ selectValue,\n      inputPlaceholder:selectValue==='1'?'请输入名称':'请输入描述',\n      inputValue:''\n    });\n  };\n  inputValue=(e)=>{\n    this.setState({\n      inputValue:e.target.value\n    })\n  }\n  // 搜索\n  // searchBtn= async (e)=>{\n  //   e.stopPropagation();\n  //   const {selectValue,inputValue}=this.state\n  //   if( !inputValue || !inputValue.trim()){\n  //     this.setState({inputValue:null})\n  //     message.warning('不能为空')\n  //     return\n  //   }\n  //   this.setState({loading:true})\n  //   const params={\n  //     pageNum,pageSize:PAGE_SIZE\n  //   }\n  //   selectValue==='1'?params.productName=inputValue:params.productDesc=inputValue\n  //   const res = await reqSearchProduct(params)\n  //   const {list,total}=res.data\n  //   if(!list[0]){message.warn('搜索结果为空！')}\n  //   this.setState({total,productListSource:list,loading:false})\n  // }\n  // 添加商品\n  addProductBtn=(e)=>{\n    e.stopPropagation()\n    this.props.history.push('/product/add')\n  }\n  // 商品列表\n  getProductList= async(pageNum)=>{\n    const {inputValue} = this.state\n    this.pageNum=pageNum //保存全局，状态更新的时候能够定位到当前页\n    this.setState({\n      tableLoading:true,\n    })\n    let res;\n    if(inputValue){ //搜索商品列表\n      this.setState({\n        btnLoading:true,\n      })\n       res= await reqSearchProduct({pageNum,pageSize: PAGE_SIZE})\n    }else{ //全部商品列表\n       res= await reqProductList({pageNum,pageSize:PAGE_SIZE})\n    }\n    const {total,list}=res.data\n    if (res.status === 0 && list.length > 0) {\n      this.setState({\n        total,\n        productListSource:list,\n        tableLoading:false,\n        btnLoading:false\n      })\n    }\n  }\n  componentDidMount(){\n    this.getProductList(1)\n  }\n  render() {\n    const {tableLoading,productListSource,total,btnLoading,inputPlaceholder,inputValue}=this.state\n    const title=()=>{\n      return (\n       <div>\n       <Select defaultValue=\"1\" \n       style={{ width: '7rem' }}\n       onChange={this.selectHandleChange}>\n       <Option value=\"1\">按名称搜索</Option>\n       <Option value=\"2\">按描述搜索</Option>\n       </Select>\n      <Input style={{width:200,marginLeft:6,marginRight:6}}  placeholder={inputPlaceholder} onChange={this.inputValue} value={inputValue} />\n      <Button type='primary' style={{transform:'scale(1)'}} onClick={()=>this.getProductList(1)} loading={btnLoading}>搜索</Button>\n       </div>\n      )\n    }\n    const addComponment=()=>(\n      <span>\n      <Button icon=\"plus\" type='primary' onClick={this.addProductBtn}>添加商品</Button>\n      </span>\n    )\n   \n    return (\n      <Card title={title()} extra={addComponment()}>\n       <Table size='small' dataSource={productListSource} columns={this.columns} rowKey={'_id'} bordered \n       loading={tableLoading}\n       pagination={{\n        // current:currentSize,\n        // defaultCurrent:1,\n        // defaultPageSize:pageSize,\n        // hideOnSinglePage:false,//一页隐藏分页'\n        // pageSize,\n        // showQuickJumper:true,\n        current: this.pageNum,\n        total,\n        defaultPageSize: PAGE_SIZE,\n        showQuickJumper: true,\n        onChange:this.getProductList,\n       }}\n       />\n      </Card>\n    ); \n  }\n}\nexport default withRouter(Product)","import React from 'react';\nimport { Upload, Icon, Modal,message } from 'antd';\nimport {reqDelUploadImg} from '../../api'\nimport {imgUrl} from '../../config'\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n}\n\nexport default class PicturesWall extends React.Component {\n  state = {\n    previewVisible: false,\n    previewImage: '',\n    fileList: [\n      // {\n      //   uid: '-1',\n      //   name: 'image.png',\n      //   status: 'done',\n      //   url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n      // },\n    ],\n  };\n  constructor(props){\n    super(props)\n    const {imgSrc=[]} = this.props\n    if(imgSrc.length){\n     const fileList = imgSrc.map((img,index)=>{\n        return {\n          uid: -index,\n          name: img,\n          status: 'done',\n          url: imgUrl+img,\n        }\n      })\n      this.state={\n        fileList\n      }\n    }\n  }\n\n  handleCancel = () => this.setState({ previewVisible: false });\n\n  handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n    this.setState({\n      previewImage: file.url || file.preview,\n      previewVisible: true,\n    });\n  };\n  getImgs=()=>{\n    return this.state.fileList.map(file=>file.name)\n  }\n  /**\n   * @param file 当前操作的文件对象。file.response为当前请求的返回\n   * @param fileList  当前的文件列表。\n   * @param event  上传中的服务端响应内容，包含了上传进度等信息，高级浏览器支持。\n   */\n  handleChange = async ({ file,fileList,event }) => { //上传中、完成、失败都会调用这个函数。\n    const {response,status} =  file\n    // 上传成功\n    if (status === 'done') { \n      const {data} = response \n      const {name,url}=data\n      const currentFile = fileList[fileList.length - 1]\n      currentFile.name = name\n      currentFile.url = url\n    } else if (status === 'removed') {\n      const res = await reqDelUploadImg({name:file.name})\n      if(res.status===0){\n        message.success('删除成功！')\n      }\n    }\n    this.setState({ fileList })\n  };\n  render() {\n    const { previewVisible, previewImage, fileList } = this.state;\n    const uploadButton = (\n      <div>\n        <Icon type=\"plus\" />\n        <div className=\"ant-upload-text\">图片上传</div>\n      </div>\n    );\n    return (\n      <div className=\"clearfix\">\n        <Upload\n          accept='image/*'\n          // action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n          action=\"/manage/img/upload\" //上传的接口\n          listType=\"picture-card\"\n          name='image' //img-name\n          fileList={fileList}\n          onPreview={this.handlePreview}\n          onChange={this.handleChange}\n          showUploadList={true}\n        >\n          {fileList.length >= 4 ? null : uploadButton}\n        </Upload>\n        <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n          <img alt=\"upload_img\" style={{ width: '100%' }} src={previewImage} />\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n/**\n * @description 富文本编辑器\n */\nexport default class richTextEdit extends Component {\n  state = {\n    editorState: EditorState.createEmpty()\n  };\n  constructor(props){\n    super(props)\n    const html = this.props.preDetail\n    if(!html){return}\n    const contentBlock = htmlToDraft(html);\n    if (contentBlock) {\n      const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n      const editorState = EditorState.createWithContent(contentState);\n      this.state = {\n        editorState,\n      };\n    }\n  }\n  onEditorStateChange = (editorState) => {\n    this.setState({\n      editorState,\n    });\n  };\n  getInputData=()=>{\n    const { editorState } = this.state;\n    return draftToHtml(convertToRaw(editorState.getCurrentContent()))\n  }\n  render() {\n    const { editorState } = this.state;\n    return (\n      <div>\n        <Editor\n          editorState={editorState}\n          editorStyle={{border:\"1px solid rgba(0, 0, 0, 0.65)\",minHeight:'100px',lineHeight:'0.1rem',textIndent:'2rem'}}\n          onEditorStateChange={this.onEditorStateChange}\n        />\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport {Card,Icon,Form,Input,Cascader,Button,message} from 'antd'\nimport UploadImg from './upload'\nimport RichEditText from './richTextEdit'\nimport {withRouter} from 'react-router-dom'\nimport {reqCatagoryList,reqAddProduct,reqProductUpdate} from '../../api'\nconst { TextArea } = Input;\nfunction formatNumber(value) {\n  value += '';\n  const list = value.split('.');\n  const prefix = list[0].charAt(0) === '-' ? '-' : '';\n  let num = prefix ? list[0].slice(1) : list[0];\n  let result = '';\n  while (num.length > 3) {\n    result = `,${num.slice(-3)}${result}`;\n    num = num.slice(0, num.length - 3);\n  }\n  if (num) {\n    result = num + result;\n  }\n  return `${prefix}${result}${list[1] ? `.${list[1]}` : ''}`;\n}\nclass ProductAdd extends Component {\n  state = { \n    loading:false,\n    productClassList:[],\n    cardTitle:'添加商品'\n   }\n  constructor(props){\n    super(props)\n    this.myRef = React.createRef();\n    this.richEditTextRef= React.createRef();\n    const {state} = this.props.location\n    this.title=(\n      <span><Icon type=\"arrow-left\" onClick={()=>{this.props.history.goBack()}} style={{fontSize:20,marginRight:4}}/>\n       {state?'修改商品':'添加商品'}\n      </span>\n    )\n  }\n  // 提交添加、更新的商品数据\n  handleSubmit = e => {\n    e.preventDefault();\n    const imgs = this.myRef.current.getImgs();//调用子组件的方法得到上传的图片名称\n    const getInputData = this.richEditTextRef.current.getInputData();\n    this.props.form.validateFields(async (err, values) => {\n      if (!err) {\n        this.setState({loading:true})\n       \n        const params={\n          categoryId:values.prdCategory[1]?values.prdCategory[1]:values.prdCategory[0],\n          pCategoryId:values.prdCategory[0],\n          name:values.prdName,\n          price:values.prdPrice,\n          desc:values.prdDesc,\n          status:'',\n          imgs:imgs,\n          detail:getInputData\n        }\n        const res= await (this.isUpdate?reqProductUpdate({...params,_id:this.oldData._id}):reqAddProduct(params))\n        if(res.status===0){\n          this.setState({loading:false})\n          message.success('添加成功！')\n          this.props.location.state=null\n          this.props.form.resetFields()\n        }\n      }\n    });\n  };\n  // 获得分类列表\n  getProductClass= async (parentId)=>{\n    const {data} = await reqCatagoryList({parentId})\n    if(parentId==='0'){ //一级列表\n      this.initSelectOptions(data)\n      return\n    }\n    return data\n  }\n  productLoadData= async (selectedOptions)=>{\n    const targetOption = selectedOptions[selectedOptions.length - 1];\n    targetOption.loading = true;\n    const parentId=targetOption.value\n    const data = await this.getProductClass(parentId)\n    targetOption.loading = false;\n    if (data && data.length > 0) {\n      const optionsChildren = data.map(element => {\n        return {\n          value: element._id,\n          label: element.name,\n          isLeaf: true //二级么有下级 这里设计有缺陷 需要点击两次才能选中\n        }\n      })\n      targetOption.children=optionsChildren\n    } else {\n      targetOption.isLeaf = true\n    }\n    this.setState({\n      productClassList: [...this.state.productClassList]\n    })\n  }\n  initSelectOptions= async (data)=>{\n    const productClassList= data.map(element => {\n      return {\n        value:element._id,\n        label:element.name,\n        isLeaf:false\n      }\n    });\n    // 修改的时候回显二级分类\n    const {categoryId,pCategoryId} =this.oldData\n    if (categoryId) { //存在二级分类id就去请求二级分类列表\n      const subProductClass= await this.getProductClass(pCategoryId)\n      // 生成匹配的options\n      const childOptions=subProductClass.map(element=>{\n        return{\n          value:element._id,\n          label:element.name,\n          isLeaf:false\n        }\n      })\n      // 获取当前分类对应的一级分类\n      const targetOption=productClassList.find(item=>item.value===pCategoryId)\n      // 关联对应的一级分类\n      targetOption.children=childOptions\n    }\n    this.setState({\n      productClassList,\n    })\n  }\n  // 自定义校验-商品价格\n  priceValidator=(rule, value, callback)=>{\n    if (value * 1 >= 0) {\n      return callback()\n    }\n    callback('价格应大于0')\n  }\n  componentDidMount(){\n    this.getProductClass('0')\n  }\n  render() {\n    let prdCategory=[]\n    const oldData = this.props.location.state || {}\n    this.oldData=oldData\n    const {categoryId,pCategoryId,imgs,detail} = oldData\n    this.isUpdate=!!pCategoryId\n     // 存在categoryId说明有二级分类否则无二级分类\n    if(categoryId){\n      prdCategory.push(pCategoryId,categoryId)\n    }else if(pCategoryId){\n      prdCategory.push(pCategoryId)\n    }\n    const {productClassList,loading} = this.state\n    const { getFieldDecorator } = this.props.form;\n    const formItemLayout = {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 2 },\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 18 },\n      },\n    };\n    return (\n      <Card title={this.title} extra={<a href=\"#\">More</a>}>\n        <Form {...formItemLayout} onSubmit={this.handleSubmit}>\n        <Form.Item label=\"商品名称\">\n          {getFieldDecorator('prdName', {\n            rules: [{ required: true, message: '请输入名称!' }],\n            initialValue:oldData.name\n          })(\n            <Input\n              placeholder=\"商品名称\"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item label='商品描述'>\n          {getFieldDecorator('prdDesc', {\n            rules: [{ required: true, message: '请输入描述!' }], initialValue:oldData.desc\n          })(\n            <TextArea\n              placeholder=\"商品描述\" \n              autosize\n            />,\n          )}\n        </Form.Item>\n        <Form.Item label='商品价格'>\n          {getFieldDecorator('prdPrice', {\n            rules:[{required: true, message:'请输入价格！'},\n                    {validator:this.priceValidator}\n                  ],\n            initialValue:oldData.price\n          })(\n            <Input\n              prefix='￥'\n              placeholder=\"商品价格\"\n              suffix=\"元\"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item label=\"商品分类\">\n          {getFieldDecorator('prdCategory', {\n            initialValue: prdCategory,\n            rules: [\n              { type: 'array', required: true, message: '请输入选择分类!' },\n            ],\n          })(<Cascader placeholder='请选择商品分类' options={productClassList} loadData={this.productLoadData} />)}\n        </Form.Item>\n        <Form.Item label=\"商品图片\">\n          <UploadImg imgSrc={imgs} ref={this.myRef} />\n        </Form.Item>\n        <Form.Item\n          label=\"商品详情\">\n          <RichEditText preDetail={detail} ref={this.richEditTextRef}/>\n        </Form.Item>\n       \n        <Form.Item \n          wrapperCol={{\n            sm: { span: 10, offset: 10 },\n          }}\n        >\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n            增加\n          </Button>\n        </Form.Item>\n     \n        </Form>\n      </Card>\n    ); \n  }\n}\nexport default Form.create({ name: 'normal_login' })(withRouter(ProductAdd));","import React, { Component } from 'react';\nimport {withRouter} from 'react-router-dom'\nimport {Card,List,Icon,Typography} from 'antd'\nconst { Text } = Typography;\nconst listStyle={fontSize:15,marginRight:'1rem'}\nclass ProductDetail extends Component {\n  state = {  }\n  constructor(){\n    super()\n    this.title=(\n      <Icon type=\"arrow-left\" onClick={this.goBack} style={{fontSize:20}}/>\n    )\n  }\n  goBack=(e)=>{\n    this.props.history.goBack()\n  }\n  render() {\n    const data=this.props.location.state //路由传进来的数据\n    const listTitle=[\n      '商品名称','商品描述','商品价格','所属分类','商品图片','商品详情'\n    ]\n    return (\n      <Card title={this.title} extra={<a href=\"#\"></a>}>\n      <List\n        header={<div>商品详情</div>}\n        bordered\n        // dataSource={data}\n        // renderItem={(item,index) => (\n        //   <List.Item>\n        //     <Text  style={{fontSize:15,marginRight:'1rem'}}>{listTitle[index]}:</Text>{item}\n        //   </List.Item>\n        //   )}\n        >\n        <List.Item>\n            <Text  style={listStyle}>{listTitle[0]}:</Text>{data.name}\n        </List.Item>\n        <List.Item>\n            <Text  style={listStyle}>{listTitle[1]}:</Text>{data.desc}\n        </List.Item>\n        <List.Item>\n            <Text  style={listStyle}>{listTitle[2]}:</Text>{data.price}\n        </List.Item>\n        <List.Item>\n            <Text  style={listStyle}>{listTitle[3]}:</Text>{data.categoryId}-{data.pCategoryId}\n        </List.Item>\n        <List.Item>\n            <Text  style={listStyle}>{listTitle[4]}:</Text>{'图片'}\n        </List.Item>\n        <List.Item>\n            <Text  style={listStyle}>{listTitle[5]}:</Text>{data.detail}\n        </List.Item>\n        </List>\n      </Card>\n    ); \n  }\n}\nexport default withRouter(ProductDetail)","import React, { Component } from 'react';\nimport {Switch,Route,Redirect} from 'react-router-dom'\nimport Product from './product'\nimport ProductAdd from './add'\nimport ProductDetail from './detail'\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <Switch>\n        <Route exact path={'/product'}  component={Product}/>\n        <Route path={'/product/add'} component={ProductAdd}/>\n        <Route path={'/product/detail'} component={ProductDetail}/>\n        <Redirect to={'/product'}/>\n      </Switch>\n    ); \n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>line</div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>pie</div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>bar</div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { Card, Col, Row } from 'antd';\nimport LinkA from '../../components/link-a'\nexport default class  extends Component {\n  state = {  }\n  params={\n    href:'https://github.com/Composur/react-manage',\n    target:'_black',\n    text:'源码'\n  }\n  chatHref={\n    href:'https://github.com/Composur/react-practice/tree/master/react-chat',\n    target:'_black',\n    text:'源码'\n  }\n  blogHref={\n    href:'https://github.com/Composur/vue-project/tree/master/vue-blog2',\n    target:'_black',\n    text:'源码'\n  }\n  render() {\n    return (\n      <div style={{padding: '30px' }}>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Card title=\"React 管理系统\"  hoverable={true} extra={<LinkA props={this.props} params={this.params}/>}>\n            <p> * 包括前端 PC 应用和后端应用,包括用户管理 / 商品分类管理 / 商品管理 / 权限管理等功能模块</p>\n            <p> * 前端: 使用 React 全家桶 + Antd + Axios + ES6 + Webpack 等技术</p>\n            <p> * 后端: 使用 Node + Express + Mongodb 等技术</p>\n            </Card>\n          </Col>\n          <Col span={8}>\n          <Card title=\"React 在线聊天系统\"  hoverable={true} extra={<LinkA props={this.props} params={this.chatHref}/>}>\n            <p> * 包括前端应用和后端应用注册，包括用户注册/登陆, 管理员/普通用户列表, 实时聊天，消息等模块</p>\n            <p> * 前端: 使用 React 全家桶+ES6+Webpack 等技术</p>\n            <p> * 后端: 使用 Node + express + mongodb + socketIO 等技术</p>\n          </Card>\n        </Col>\n          <Col span={8}>\n            <Card title=\"vue 博客系统\"  hoverable={true}extra={<LinkA props={this.props} params={this.blogHref}/>}>\n              <p>前端加后台</p>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class order extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>order</div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport {Redirect,Switch,Route} from 'react-router-dom'\nimport { Layout } from 'antd';\nimport store from '../../utils/storeUtils'\nimport HeaderSelf from '../../components/header'\nimport LeftNav from '../../components/left-nav'\nimport Home from '../home/home'\nimport Category from '../category/category'\nimport Role from '../role/role'\nimport User from '../user/user'\nimport Product from '../product'\nimport Line from '../charts/line'\nimport Pie from '../charts/pie'\nimport Bar from '../charts/bar'\nimport GitHub from '../github'\nimport Order from '../order/order'\nconst {Footer, Sider, Content } = Layout;\nexport default class Admin extends Component {\n  state = {\n    collapsed: false,\n  };\n  onCollapse = collapsed => {\n    this.setState({ collapsed });\n  };\n  render() {\n    if(!store.user){\n      return  <Redirect to='/login'/>\n    }\n    return (\n      <Layout style={{minHeight: '100vh'}}>\n          <Sider  collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\n            <LeftNav/>\n          </Sider>\n          <Layout>\n            <HeaderSelf/>\n            <Content style={{margin:'14px',background:'#fff'}}>\n              <Switch>\n                <Route path='/home' component={Home}/>\n                <Route path='/category' component={Category}/>\n                <Route path='/product' component={Product}/>\n                <Route path='/role' component={Role}/>\n                <Route path='/user' component={User}/>\n                <Route path='/charts/bar' component={Bar}/>\n                <Route path='/charts/line' component={Line}/>\n                <Route path='/charts/pie' component={Pie}/>\n                <Route path='/order' component={Order}/>\n                <Route path='/GitHub' component={GitHub}/>\n                <Redirect to='/home' />\n              </Switch>\n            </Content>\n            <Footer style={{textAlign:'center',margin:'0 14px 0',background:'#fff'}}>Footer</Footer>\n          </Layout>\n      </Layout>\n    );\n  }\n}","/**\n * 应用根组件\n */\nimport React, { Component } from 'react';\nimport {BrowserRouter,Route,Switch} from 'react-router-dom'\nimport Login from './pages/login/login'\nimport Admin from './pages/admin/admin'\nimport store from './utils/storeUtils'\nclass App extends Component {\n  render() {\n    const user= store.get('user_key')\n    store.user=user //每次渲染先取出来放到内存中，各个组件取的时候不用store再去取\n    return (\n     <BrowserRouter>\n      <Switch>{/* switch只匹配一个path */}\n        <Route exact path={'/login'}  component={Login}></Route>\n        <Route path={'/'} component={Admin}></Route>\n      </Switch>\n     </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}