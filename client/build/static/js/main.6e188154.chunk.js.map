{"version":3,"sources":["utils/axios.js","api/index.js","utils/storeUtils.js","pages/login/login.js","utils/common.js","components/link-a/index.js","components/header/index.js","config/menuConfig.js","components/left-nav/index.js","pages/home/home.js","pages/category/category.js","pages/role/role.js","pages/user/user.js","pages/product/product.js","pages/charts/line.js","pages/charts/pie.js","pages/charts/bar.js","pages/github/index.js","pages/order/order.js","pages/admin/admin.js","App.js","index.js"],"names":["axios","require","url","type","data","Promise","resolve","reject","get","post","then","res","catch","err","message","error","reqLogin","request","reqWeather","city","jsonp","status","results","weather_data","getData","user","set","key","value","store","remove","Login","handleSubmit","e","preventDefault","props","form","validateFields","values","a","Object","assign","username","btoa","password","history","replace","msg","this","validatorPwd","rule","callback","length","to","getFieldDecorator","className","onSubmit","Item","rules","required","min","max","pattern","initialValue","prefix","style","color","placeholder","validator","htmlType","onClick","Component","WrappeLoginForm","create","name","moment","locale","getCurrentDate","date","format","params","href","text","target","HeaderSelf","state","weather","Date","weatherText","address","exitAhref","exitConfirm","confirm","title","content","okText","cancelText","confirmLoading","onOk","exitTimerID","setTimeout","console","log","dayPictureUrl","setState","imgSrc","address_detail","point","x","y","toFixed","getWeather","getAddress","timerID","setInterval","clock","clearInterval","src","alt","withRouter","menuList","icon","isPublic","children","SubMenu","LeftNav","toggleCollapsed","collapsed","menuNav_map","menuConfig","map","item","menuNav_reduce","arr","reduce","pre","push","getCurrentReqParentPath","menuLists","location","pathname","getCurrentReqPath","forEach","element","cItem","mode","theme","selectedKeys","defaultOpenKeys","chatHref","blogHref","padding","gutter","span","hoverable","extra","order","Footer","Sider","Content","Admin","onCollapse","minHeight","collapsible","margin","background","path","component","Home","Category","Product","Role","User","Bar","Line","Pie","Order","GitHub","textAlign","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e188154.chunk.js","sourcesContent":["/**\n * @description 封装axios\n */\nimport {message} from 'antd'\n// import config from '../config'\nconst axios = require('axios')\n\nexport default function (url, type = 'GET', data) {\n  let promise;\n  // url=config.serverAddress+url\n  // 返回一个promise，统一处理错误\n  return new Promise((resolve, reject) => {\n    // 1.执行异步请求\n    if (type === 'GET') {\n      promise = axios.get(url)\n    } else {\n      promise = axios.post(url, data)\n    }\n    promise.then(res => {\n      // 2.成功调用resolve\n      resolve(res.data)\n    }).catch(err => {\n      // 3.失败调用reject，但是不能调用，调用就进入外层catch里了，为了不在外层用try...catch这里显式的返回error\n      message.error('请求出错'+err.message)\n    })\n  })\n}","/**\n * @param 应用接口\n */\nimport request from '../utils/axios'\nimport jsonp from 'jsonp'\n// import md5 from 'md5'\nimport {\n  message\n} from 'antd'\nexport const reqLogin = data => request('/login', 'POST', data)\nexport const reqAddUser = data => request('/manage/user/add', 'POST', data)\n\nexport const reqWeather = (city) => {\n  return new Promise((resolve, reject) => {\n    const getData = (city='深圳') => {\n      const url = `https://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`\n      jsonp(url, {}, (err, data) => {\n        if (data && data.status === 'success') {\n          resolve(data.results[0].weather_data[0])\n        } else {\n          message.error(data.status)\n        }\n      })\n    }\n    getData(city)\n    // if (\"geolocation\" in navigator) {\n    //   getData()\n    //   navigator.geolocation.getCurrentPosition(function (position) {\n    //     console.log(position)\n    //     const city = `${position.coords.longitude},${position.coords.latitude}`\n    //     getData(city)\n    //   })\n    // } else {\n    //   getData()\n    // }\n  })\n}\n\nexport const reqAddress=()=>{\n    return new Promise((resolve,reject)=>{\n      jsonp('https://api.map.baidu.com/location/ip?ak=PFlNd9vKhGalbukR6ZIlFKzKvFsutPWV',{},(err,data)=>{\n        if(data&&data.status===0){\n          resolve(data.content)\n        }else{\n          message.error('请求定位接口失败')\n          reject('请求定位接口失败')\n        }\n      })\n    })\n}","/**\n * @description localStore\n */\nimport store from 'store'\nexport default {\n  user:null,\n  set(key, value){\n    // localStorage.setItem(key, JSON.stringify(value))\n    store.set(key,value)\n  },\n  get(key) {\n    // return JSON.parse(localStorage.getItem(key) || '{}')\n    return store.get(key)\n  },\n  remove(key){\n    // localStorage.removeItem(key)\n    store.remove(key)\n  }\n}","import React, { Component } from 'react';\nimport { Form, Icon, Input, Button,message} from 'antd';\nimport {Redirect} from 'react-router-dom'\nimport {reqLogin} from '../../api'\nimport store from '../../utils/storeUtils'\nimport './login.less'\nclass Login extends Component {\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields(\n      async (err, values) => { //可以对所有结果校验，并返回结果\n        if (!err) {\n          values=Object.assign(values,{username:btoa(values.username),password:btoa(values.password)})\n          const res = await reqLogin(values)\n          if (res.status === 0) {\n            // message.success('登录成功！')\n            store.set('user_key', res.data) //全局存储\n            store.user=res.data\n            this.props.history.replace('/') // 登录成功，跳转页面,不需要回退，所以用replace不用push\n          } else {\n            message.error(res.msg)\n          }\n        }\n      });\n  };\n  // 自定义密码验证规则\n  validatorPwd=(rule, value, callback)=>{\n    // 无论验证成功与否callback()必须调用\n    if(!value){\n      callback('请输入密码！')\n    }else if(value.length<4||value.length>12){\n      callback('密码长度应大于4小于12位！') //验证不通过传入错误提示\n    }\n    callback()//验证成功无提示\n  }\n  render() {\n    // 如果检测到登录信息自动登录\n    if(store.user){\n      return <Redirect to='/'/>\n    }\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <div className='login'>\n        <div className='header'>\n        </div>\n        <div className='content'>\n          <section className='login-form'>\n          <div className='login-label'> <span >管理平台</span></div>\n          <Form onSubmit={this.handleSubmit} className=\"\">\n          <Form.Item>\n          {getFieldDecorator('username', {\n            rules: [\n              { required: true,message: '请输入用户名！',min:4},\n              { message: '用户名长度应大于4小于12位！',min:4,max:12},\n              { message: '用户名只能含有数字、英文、下划线!',pattern:/^[a-zA-Z0-9_]+$/ },//+号可以匹配任意多个字符\n            ],\n            initialValue: 'admin', // 初始值\n          })(\n            <Input\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              placeholder=\"用户名\"\n            />,\n          )}\n          </Form.Item>\n          <Form.Item>\n          {getFieldDecorator('password', {\n            rules: [\n              { validator:this.validatorPwd},//自定义校验规则\n            ],\n            initialValue: 'admin', // 初始值\n          })(\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              type=\"password\"\n              placeholder=\"密码\"\n            />,\n          )}\n          </Form.Item>\n          <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" className='login-btn' onClick={this.onSubmit}>\n            登录\n          </Button>\n          </Form.Item>\n        </Form>\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst WrappeLoginForm = Form.create({ name: 'normal_login' })(Login);\nexport default WrappeLoginForm\n","import moment from 'moment'\nmoment.locale('zh-cn'); \nexport const getCurrentDate=(date)=>{\n return moment(date).format('HH:mm:ss a')\n}","import React from 'react';\n\n/**\n * \n * @param {*} @param: params object\n * @description \n */\nexport default function(props){\n  const {href,text,target}=props.params || {} \n  return (\n    <a href={href} target={target}>{text}</a>\n  )\n}","import React, { Component } from 'react';\nimport {Modal, Button} from 'antd'\nimport {withRouter} from 'react-router-dom'\nimport store from '../../utils/storeUtils'\nimport {reqWeather,reqAddress} from '../../api'\nimport {getCurrentDate} from '../../utils/common'\nimport LinkA from '../../components/link-a'\nimport './index.less'\n\nclass HeaderSelf extends Component {\n  state = { \n    weather:'',\n    date:getCurrentDate(new Date()),\n    weatherText:'',\n    address:''\n   }\n   params={\n    href:'https://github.com/Composur/react-manage',\n    target:'_black',\n    text:'获取（前端+后台）源码'\n  }\n  exitAhref={\n    href:'#',\n    text:'退出'\n  }\n  exitConfirm=(e)=>{\n    e.preventDefault();\n    Modal.confirm({\n      title:'退出',\n      content: '确定退出？',\n      okText:'退出',\n      cancelText:'取消',\n      confirmLoading:true,\n      onOk:()=> {\n        return new Promise((resolve, reject) => {\n          this.exitTimerID=setTimeout(()=>{\n            store.remove('user_key')\n            store.user=null\n            resolve(null)\n            this.props.history.replace('/')\n          },500);\n        }).catch(() => console.log('Oops errors!'));\n      },\n    })\n  }\n  async getWeather(city){\n    const {date,dayPictureUrl,weather} = await reqWeather(city)\n    this.setState({\n      weather:date,\n      imgSrc:dayPictureUrl,\n      weatherText:weather\n    })\n  }\n  async getAddress(){\n    try {\n      const {address,address_detail,point}= await reqAddress()\n      let {x,y}=point\n      x=(x/100000).toFixed(4)-13\n      y=(y/100000).toFixed(4)-13\n      let {city}=address_detail\n      city?city=city:city=`深圳`\n      this.getWeather(city)\n      this.setState({\n        address\n      })\n    } catch (error) {\n      this.getWeather()\n    }\n  }\n  componentDidMount(){\n    this.getAddress()\n    this.timerID = setInterval(()=>{\n      this.clock()\n    },1000)\n  }\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n    clearInterval(this.exitTimerID);\n  }\n  clock(){\n    this.setState({\n      date:getCurrentDate(new Date())\n    })\n  }\n  render() {\n    const username=store.user.username\n    \n    return (\n      <div className='header'>\n        <div className='header-top'>\n          <span>欢迎您，{username}</span>\n          <Button type='link' onClick={this.exitConfirm}>退出</Button>\n        </div>\n        <div className='header-buttom'>\n          <span className='getSource'>\n          <LinkA params={this.params}/>\n          </span>\n          <span>{this.state.address}</span>\n          <span>{this.state.weather}</span>\n          <span>{this.state.date}</span>\n          <span>{this.state.weatherText}</span>\n          <span className='header-buttom-weather-img'><img src={this.state.imgSrc} alt=''></img></span>\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(HeaderSelf)","const menuList = [\n  {\n    title: '首页', // 菜单标题名称\n    key: '/home', // 对应的path\n    icon: 'home', // 图标名称\n    isPublic: true, // 公开的\n  },\n  {\n    title: '商品',\n    key: '/products',\n    icon: 'appstore',\n    children: [ // 子菜单列表\n      {\n        title: '品类管理',\n        key: '/category',\n        icon: 'bars'\n      },\n      {\n        title: '商品管理',\n        key: '/product',\n        icon: 'tool'\n      },\n    ]\n  },\n\n  {\n    title: '用户管理',\n    key: '/user',\n    icon: 'user'\n  },\n  {\n    title: '角色管理',\n    key: '/role',\n    icon: 'safety',\n  },\n\n  {\n    title: '图形图表',\n    key: '/charts',\n    icon: 'area-chart',\n    children: [\n      {\n        title: '柱形图',\n        key: '/charts/bar',\n        icon: 'bar-chart'\n      },\n      {\n        title: '折线图',\n        key: '/charts/line',\n        icon: 'line-chart'\n      },\n      {\n        title: '饼图',\n        key: '/charts/pie',\n        icon: 'pie-chart'\n      },\n    ]\n  },\n\n  {\n    title: '订单管理',\n    key: '/order',\n    icon: 'windows',\n  },\n  {\n    title: 'GitHub',\n    key: '/github',\n    icon: 'github',\n  },\n]\n\nexport default menuList","import React, { Component } from 'react'\nimport { Menu, Icon } from 'antd';\nimport {Link,withRouter} from 'react-router-dom'\nimport menuLists from '../../config/menuConfig'\nimport './index.less'\n\nconst { SubMenu } = Menu;\nclass LeftNav extends Component {  \n  constructor(props){\n    super(props)\n    this.state = {\n      collapsed: false,\n    };\n    this.getCurrentReqParentPath(menuLists,this.props.location.pathname )\n  }\n  getCurrentReqParentPath(arr,getCurrentReqPath){\n    arr.forEach(element => {\n      if(element.children){\n        element.children.forEach((cItem)=>{\n          if(getCurrentReqPath===cItem.key){\n            // 得到需要展开的key\n            this.getCurrentReqParentPath=element.key\n          }\n        })\n      }\n    });\n  }\n  toggleCollapsed = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  };\n  // 根据导航json格式进行递归渲染\n  // 方式一：map\n  menuNav_map = (menuConfig) => {\n    return menuConfig.map(item => {\n      if(item.children){\n        return (\n          <SubMenu  key={item.key}   title={\n            <span>\n              <Icon type={item.icon} />\n              <span>{item.title}</span>\n            </span>\n          }\n        >\n        { this.menuNav_map(item.children)  }\n        </SubMenu>\n        )\n      }else{\n        return (\n          <Menu.Item key={item.key}>\n          <Link to={item.key}>\n            <Icon type={item.icon} />\n            <span>{item.title}</span>\n          </Link>\n        </Menu.Item>\n        )\n      }\n    })\n  }\n  // 方式二：reduce\n  menuNav_reduce=(arr)=>{\n    return arr.reduce((pre,item)=>{\n      if(item.children){\n        pre.push(\n          <SubMenu  key={item.key}   title={\n            <span>\n              <Icon type={item.icon} />\n              <span>{item.title}</span>\n            </span>\n          }\n        >\n        { this.menuNav_reduce(item.children)  }\n        </SubMenu>\n        )\n      }else{\n        pre.push(\n          <Menu.Item key={item.key}>\n          <Link to={item.key}>\n            <Icon type={item.icon} />\n            <span>{item.title}</span>\n          </Link>\n        </Menu.Item>\n        )\n      }  \n      return pre    \n    },[])\n  }\n \n  render() {\n    //这样是获取不到的，因为不是路由组件没有经过router的包装\n    const getCurrentReqPath=this.props.location.pathname \n    const getCurrentReqParentPath=this.getCurrentReqParentPath\n    return (\n      <div className='left-nav' >\n\n        <Link to='/'>\n          <header className='left-nav-header'>\n          <h1 className='left-nav-header-content'>管理系统</h1>\n          </header>\n        </Link>\n        \n        <Menu mode=\"inline\" theme=\"dark\" selectedKeys={[getCurrentReqPath]}\n         defaultOpenKeys={[getCurrentReqParentPath]}\n         >\n          {this.menuNav_reduce(menuLists)}\n        </Menu>\n\n      </div>\n    );\n  }\n}\n// 高阶组件\n// 新的组件向非路由组件传递history、match、location\nexport default withRouter(LeftNav)","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <h1>Home</h1>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>category</div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>role</div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>user</div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>product</div>\n    ); \n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>line</div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>pie</div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class  extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>bar</div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { Card, Col, Row } from 'antd';\nimport LinkA from '../../components/link-a'\nexport default class  extends Component {\n  state = {  }\n  params={\n    href:'https://github.com/Composur/react-manage',\n    target:'_black',\n    text:'源码'\n  }\n  chatHref={\n    href:'https://github.com/Composur/react-practice/tree/master/react-chat',\n    target:'_black',\n    text:'源码'\n  }\n  blogHref={\n    href:'https://github.com/Composur/vue-project/tree/master/vue-blog2',\n    target:'_black',\n    text:'源码'\n  }\n  render() {\n    return (\n      <div style={{padding: '30px' }}>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Card title=\"React 管理系统\"  hoverable={true} extra={<LinkA props={this.props} params={this.params}/>}>\n            <p> * 包括前端 PC 应用和后端应用,包括用户管理 / 商品分类管理 / 商品管理 / 权限管理等功能模块</p>\n            <p> * 前端: 使用 React 全家桶 + Antd + Axios + ES6 + Webpack 等技术</p>\n            <p> * 后端: 使用 Node + Express + Mongodb 等技术</p>\n            </Card>\n          </Col>\n          <Col span={8}>\n          <Card title=\"React 在线聊天系统\"  hoverable={true} extra={<LinkA props={this.props} params={this.chatHref}/>}>\n            <p> * 包括前端应用和后端应用注册，包括用户注册/登陆, 管理员/普通用户列表, 实时聊天，消息等模块</p>\n            <p> * 前端: 使用 React 全家桶+ES6+Webpack 等技术</p>\n            <p> * 后端: 使用 Node + express + mongodb + socketIO 等技术</p>\n          </Card>\n        </Col>\n          <Col span={8}>\n            <Card title=\"vue 博客系统\"  hoverable={true}extra={<LinkA props={this.props} params={this.blogHref}/>}>\n              <p>前端加后台</p>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nexport default class order extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>order</div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport {Redirect,Switch,Route} from 'react-router-dom'\nimport { Layout } from 'antd';\nimport store from '../../utils/storeUtils'\nimport HeaderSelf from '../../components/header'\nimport LeftNav from '../../components/left-nav'\nimport Home from '../home/home'\nimport Category from '../category/category'\nimport Role from '../role/role'\nimport User from '../user/user'\nimport Product from '../product/product'\nimport Line from '../charts/line'\nimport Pie from '../charts/pie'\nimport Bar from '../charts/bar'\nimport GitHub from '../github'\nimport Order from '../order/order'\nconst {Footer, Sider, Content } = Layout;\nexport default class Admin extends Component {\n  state = {\n    collapsed: false,\n  };\n  onCollapse = collapsed => {\n    this.setState({ collapsed });\n  };\n  render() {\n    if(!store.user){\n      return  <Redirect to='/login'/>\n    }\n    return (\n      <Layout style={{minHeight: '100vh'}}>\n          <Sider  collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\n            <LeftNav/>\n          </Sider>\n          <Layout>\n            <HeaderSelf/>\n            <Content style={{margin:'14px',background:'#fff'}}>\n              <Switch>\n                <Route path='/home' component={Home}/>\n                <Route path='/category' component={Category}/>\n                <Route path='/product' component={Product}/>\n                <Route path='/role' component={Role}/>\n                <Route path='/user' component={User}/>\n                <Route path='/charts/bar' component={Bar}/>\n                <Route path='/charts/line' component={Line}/>\n                <Route path='/charts/pie' component={Pie}/>\n                <Route path='/order' component={Order}/>\n                <Route path='/GitHub' component={GitHub}/>\n                <Redirect to='/home' />\n              </Switch>\n            </Content>\n            <Footer style={{textAlign:'center',margin:'0 14px 0',background:'#fff'}}>Footer</Footer>\n          </Layout>\n      </Layout>\n    );\n  }\n}","/**\n * 应用根组件\n */\nimport React, { Component } from 'react';\nimport {BrowserRouter,Route,Switch} from 'react-router-dom'\nimport Login from './pages/login/login'\nimport Admin from './pages/admin/admin'\nimport store from './utils/storeUtils'\nclass App extends Component {\n  render() {\n    const user= store.get('user_key')\n    store.user=user //每次渲染先取出来放到内存中，各个组件取的时候不用store再去取\n    return (\n     <BrowserRouter>\n      <Switch>{/* switch只匹配一个path */}\n        <Route path={'/login'} component={Login}></Route>\n        <Route path={'/'} component={Admin}></Route>\n      </Switch>\n     </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}