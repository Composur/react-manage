{"version":3,"sources":["utils/common.js","config/menuConfig.js","config/index.js","components/link-a/index.js","pages/login/login.js","pages/login/action.js","pages/login/action-type.js","components/header/index.js","components/left-nav/index.js","components/left-nav/action.js","components/left-nav/action-type.js","components/footer/index.js","components/loading/index.js","pages/admin/admin.js","pages/login/reducer.js","redux/reducer.js","components/left-nav/reducer.js","redux/index.js","App.js","index.js","utils/storeUtils.js","utils/axios.js","api/index.js"],"names":["moment","locale","getCurrentDate","date","format","formatNumber","value","list","split","prefix","charAt","num","slice","result","length","menuList","title","key","icon","isPublic","children","module","exports","serverAddress","baseURl","imgUrl","props","params","href","text","target","Login","handleSubmit","e","preventDefault","form","validateFields","err","values","a","Object","assign","username","btoa","password","getLoginUserInfo","this","validatorPwd","rule","callback","userInfo","_id","to","getFieldDecorator","className","onSubmit","Item","rules","required","message","min","max","pattern","initialValue","type","style","color","placeholder","validator","htmlType","onClick","Component","WrappeLoginForm","create","name","mapDispatchToProps","loginInfo","dispatch","reqLogin","res","status","success","data","store","set","token","connect","state","loginUserInfo","HeaderSelf","weather","Date","weatherText","address","exitAhref","exitConfirm","confirm","content","okText","cancelText","confirmLoading","onOk","Promise","resolve","reject","exitTimerID","setTimeout","clearAll","user","logout","history","replace","catch","console","log","city","reqWeather","dayPictureUrl","setState","imgSrc","reqAddress","address_detail","getWeather","getAddress","timerID","setInterval","clock","clearInterval","src","alt","headTitle","getHeadTitle","withRouter","SubMenu","LeftNav","hasAuth","item","role","menus","indexOf","find","toggleCollapsed","collapsed","menuNav_map","menuConfig","map","menuNav_reduce","arr","setHeadTitle","reduce","pre","push","getCurrentReqParentPath","menuLists","location","pathname","getCurrentReqPath","forEach","element","cItem","includes","mode","theme","selectedKeys","defaultOpenKeys","textAlign","marginTop","tip","size","Home","lazy","Category","Role","User","Product","Line","Pie","Bar","GitHub","Order","NotFoundPage","Footer","Sider","Content","Admin","onCollapse","minHeight","collapsible","margin","background","fallback","exact","path","component","visibilityHeight","get","combineReducers","action","createStore","appReducer","applyMiddleware","ReduxThunk","App","reduxStore","zh_CN","ReactDOM","render","document","getElementById","remove","axios","interceptors","request","use","response","error","url","promise","defaults","headers","common","config","paramStr","keys","substring","post","then","msg","reqAddUser","reqDeleteUser","reqUpdateUser","reqUserList","jsonp","results","weather_data","getData","reqCatagoryList","reqAddCategory","reqDeleteCategory","reqUpdateCategory","reqAddProduct","reqDelUploadImg","reqProductStatus","reqProductUpdate","reqDeleteProduct","reqProductList","reqSearchProduct","reqAddRole","reqDeleteRole","reqRoleList","reqSettingRole"],"mappings":"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","file":"static/js/main.5790f85f.chunk.js","sourcesContent":["import moment from 'moment'\nmoment.locale('zh-cn'); \nexport const getCurrentDate=(date)=>{\n return moment(date).format('HH:mm:ss a')\n}\n\nexport const formatNumber = (value)=>{\n    value += '';\n    const list = value.split('.');\n    const prefix = list[0].charAt(0) === '-' ? '-' : '';\n    let num = prefix ? list[0].slice(1) : list[0];\n    let result = '';\n    while (num.length > 3) {\n      result = `,${num.slice(-3)}${result}`;\n      num = num.slice(0, num.length - 3);\n    }\n    if (num) {\n      result = num + result;\n    }\n    return `${prefix}${result}${list[1] ? `.${list[1]}` : ''}`;\n}","const menuList = [\n  {\n    title: '首页', // 菜单标题名称\n    key: '/home', // 对应的path\n    icon: 'home', // 图标名称\n    isPublic: true, // 公开的\n  },\n  {\n    title: '商品',\n    key: '/products',\n    icon: 'appstore',\n    children: [ // 子菜单列表\n      {\n        title: '品类管理',\n        key: '/category',\n        icon: 'bars'\n      },\n      {\n        title: '商品管理',\n        key: '/product',\n        icon: 'tool'\n      },\n    ]\n  },\n\n  {\n    title: '用户管理',\n    key: '/user',\n    icon: 'user'\n  },\n  {\n    title: '角色管理',\n    key: '/role',\n    icon: 'safety',\n  },\n\n  {\n    title: '图形图表',\n    key: '/charts',\n    icon: 'area-chart',\n    children: [\n      {\n        title: '柱形图',\n        key: '/charts/bar',\n        icon: 'bar-chart'\n      },\n      {\n        title: '折线图',\n        key: '/charts/line',\n        icon: 'line-chart'\n      },\n      {\n        title: '饼图',\n        key: '/charts/pie',\n        icon: 'pie-chart'\n      },\n    ]\n  },\n\n  {\n    title: '订单管理',\n    key: '/order',\n    icon: 'windows',\n  },\n  {\n    title: 'GitHub',\n    key: '/github',\n    icon: 'github',\n  },\n]\n\nexport default menuList","module.exports={\n  serverAddress:'http://localhost:8081',\n  baseURl:'/api',\n  imgUrl:'http://localhost:8081/upload/'\n}","import React from 'react';\n\n/**\n * \n * @param {*} @param: params object\n * @description \n */\nexport default function(props){\n  const {href,text,target}=props.params || {} \n  return (\n    <a href={href} target={target}>{text}</a>\n  )\n}","import React, { Component } from 'react';\nimport { Form, Icon, Input, Button} from 'antd';\nimport {Redirect} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {getLoginUserInfo} from './action'\nimport './login.less'\nclass Login extends Component {\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields(\n      async (err, values) => { //可以对所有结果校验，并返回结果\n        if (!err) {\n          values=Object.assign(values,{username:btoa(values.username),password:btoa(values.password)})\n          this.props.getLoginUserInfo(values)\n        }\n      });\n  };\n  // 自定义密码验证规则\n  validatorPwd=(rule, value, callback)=>{\n    // 无论验证成功与否callback()必须调用\n    if(!value){\n      callback('请输入密码！')\n    }else if(value.length<4||value.length>12){\n      callback('密码长度应大于4小于12位！') //验证不通过传入错误提示\n    }\n    callback()//验证成功无提示\n  }\n  render() {\n    // 如果检测到登录信息自动登录\n    const {userInfo} = this.props \n    if(userInfo._id){\n      return <Redirect to='/home'/>\n    }\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <div className='login'>\n        <div className='header'>\n        </div>\n        <div className='content'>\n          <section className='login-form'>\n          <div className='login-label'> <span >管理平台</span></div>\n          <Form onSubmit={this.handleSubmit} className=\"\">\n          <Form.Item>\n          {getFieldDecorator('username', {\n            rules: [\n              { required: true,message: '请输入用户名！',min:4},\n              { message: '用户名长度应大于4小于12位！',min:4,max:12},\n              { message: '用户名只能含有数字、英文、下划线!',pattern:/^[a-zA-Z0-9_]+$/ },//+号可以匹配任意多个字符\n            ],\n            initialValue: 'admin', // 初始值\n          })(\n            <Input\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              placeholder=\"用户名\"\n            />,\n          )}\n          </Form.Item>\n          <Form.Item>\n          {getFieldDecorator('password', {\n            rules: [\n              { validator:this.validatorPwd},//自定义校验规则\n            ],\n            initialValue: 'admin', // 初始值\n          })(\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              type=\"password\"\n              placeholder=\"密码\"\n            />,\n          )}\n          </Form.Item>\n          <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" className='login-btn' onClick={this.onSubmit}>\n            登录\n          </Button>\n          </Form.Item>\n        </Form>\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst WrappeLoginForm = Form.create({ name: 'normal_login' })(Login);\n\n\nconst mapStateToProps=(state)=>({\n  userInfo:state.loginUserInfo\n})\n\nconst mapDispatchToProps={getLoginUserInfo}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(WrappeLoginForm)\n","\nimport {LOGIN_USER_INFO} from './action-type'\nimport {reqLogin} from 'api/index'\nimport {message} from 'antd'\nimport store from '../../utils/storeUtils'\nexport const getLoginUserInfo = (loginInfo)=>{\n  return async dispatch=>{\n    const res = await reqLogin(loginInfo)\n      if (res.status === 0) {\n        message.success('登录成功！')\n        // 分发一个同步action\n        dispatch(\n          {\n            type:LOGIN_USER_INFO,\n            data:res.data\n          }\n        )\n        store.set('user_key', res.data) //全局存储\n        store.set('token', res.token) //全局存储\n      } \n  }\n}","export const LOGIN_USER_INFO = 'login_user_info'\nexport const LOG_OUT = 'log_out'","import React, { Component } from 'react';\nimport {Modal, Button} from 'antd'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport PropTypes from 'prop-types'\nimport {LOG_OUT} from '../../pages/login/action-type'\nimport store from '../../utils/storeUtils'\nimport {reqWeather,reqAddress} from 'api'\nimport {getCurrentDate} from '../../utils/common'\nimport LinkA from 'components/link-a'\nimport './index.less'\n\nclass HeaderSelf extends Component {\n  state = { \n    weather:'',\n    date:getCurrentDate(new Date()),\n    weatherText:'',\n    address:''\n   }\n   params={\n    href:'https://github.com/Composur/react-manage',\n    target:'_black',\n    text:'获取（前端+后台）源码'\n  }\n  exitAhref={\n    href:'#',\n    text:'退出'\n  }\n  exitConfirm=(e)=>{\n    e.preventDefault();\n    Modal.confirm({\n      title:'退出',\n      content: '确定退出？',\n      okText:'退出',\n      cancelText:'取消',\n      confirmLoading:true,\n      onOk:()=> {\n        return new Promise((resolve, reject) => {\n          this.exitTimerID=setTimeout(()=>{\n            store.clearAll()\n            // store.remove('user_key')\n            store.user=null\n            resolve(null)\n            this.props.logout()\n            this.props.history.replace('/')\n          },500);\n        }).catch(() => console.log('Oops errors!'));\n      },\n    })\n  }\n  async getWeather(city){\n    const {date,dayPictureUrl,weather} = await reqWeather(city)\n    this.setState({\n      weather:date,\n      imgSrc:dayPictureUrl,\n      weatherText:weather\n    })\n  }\n  async getAddress(){\n    try {\n      const {address,address_detail}= await reqAddress()\n      // 坐标取值不准确\n      // let {x,y}=point\n      // x=(x/100000).toFixed(4)-13\n      // y=(y/100000).toFixed(4)-13\n      let {city}=address_detail\n      if(!city){city='深圳'}\n      this.getWeather(city)\n      this.setState({\n        address\n      })\n    } catch (error) {\n      this.getWeather()\n    }\n  }\n  componentDidMount(){\n    this.getAddress()\n    this.timerID = setInterval(()=>{\n      this.clock()\n    },1000)\n  }\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n    clearInterval(this.exitTimerID);\n  }\n  clock(){\n    this.setState({\n      date:getCurrentDate(new Date())\n    })\n  }\n  render() {\n    const {userInfo} = this.props\n    return (\n      <div className='header'>\n        <div className='header-top'>\n          <span>欢迎您，{userInfo.username}</span>\n          <Button type='link' onClick={this.exitConfirm}>退出</Button>\n        </div>\n\n        <div className='header-buttom'>\n          <span className='getSource'>\n          <LinkA params={this.params}/>\n          </span>\n          <span>{this.state.address}</span>\n          <span>{this.state.weather}</span>\n          <span>{this.state.date}</span>\n          <span>{this.state.weatherText}</span>\n          <span className='header-buttom-weather-img'><img src={this.state.imgSrc} alt=''></img></span>\n        </div>\n      </div>\n    );\n  }\n}\n\nHeaderSelf.propTypes={\n  headTitle:PropTypes.string.isRequired\n}\n// 该回调函数必须返回一个纯对\nconst mapStateToProps = (state)=>({\n  headTitle:state.getHeadTitle,\n  userInfo:state.loginUserInfo\n})\n// 如果传递的是一个函数，该函数将接收一个 dispatch 函数，然后由你来决定如何返回一个对象\nconst mapDispatchToProps=(dispatch)=>{\n  return {\n    logout:()=>{\n      dispatch({\n        type:LOG_OUT\n      })\n    }\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(HeaderSelf))","import React, { Component } from 'react'\nimport { Menu, Icon } from 'antd';\nimport {Link,withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { setHeadTitle } from './action'\nimport menuLists from 'config/menuConfig'\nimport './index.less'\n\nconst { SubMenu } = Menu;\nclass LeftNav extends Component {  \n  constructor(props){\n    super(props)\n    this.state = {\n      collapsed: false,\n    };\n    this.getCurrentReqParentPath(menuLists,this.props.location.pathname )\n  }\n  hasAuth=(item)=>{\n    const {userInfo} = this.props\n    const {username,role} = userInfo\n    const {key,isPublic,children} = item\n    // 默认admin全部权限 isPublic为基础页面\n      if (username === 'admin' || isPublic || role.menus.indexOf(key)!==-1) {\n        return true\n      }else if(children){\n        return !!children.find(item=>role.menus.indexOf(item.key)!==-1)\n      }\n      return false\n  }\n  // 保持选中状态\n  getCurrentReqParentPath(arr,getCurrentReqPath){\n    arr.forEach(element => {\n      if(element.children){\n        element.children.forEach((cItem)=>{\n          if(getCurrentReqPath.includes(cItem.key)){\n            // 得到需要展开的key\n            this.getCurrentReqParentPath=element.key\n          }\n        })\n      }\n    });\n  }\n  toggleCollapsed = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  };\n  // 根据导航json格式进行递归渲染\n  // 方式一：map\n  menuNav_map = (menuConfig) => {\n    return menuConfig.map(item => {\n      if(item.children){\n        return (\n          <SubMenu  key={item.key}   title={\n            <span>\n              <Icon type={item.icon} />\n              <span>{item.title}</span>\n            </span>\n          }\n        >\n        { this.menuNav_map(item.children)  }\n        </SubMenu>\n        )\n      }else{\n        return (\n          <Menu.Item key={item.key}>\n          <Link to={item.key}>\n            <Icon type={item.icon} />\n            <span>{item.title}</span>\n          </Link>\n        </Menu.Item>\n        )\n      }\n    })\n  }\n  // 方式二：reduce\n  menuNav_reduce=(arr)=>{\n    const {setHeadTitle} = this.props\n    return arr.reduce((pre,item)=>{\n\n      /**\n       * @desc 权限控制 \n       * @desc 拿到权限列表路由进行渲染\n       */\n      // \n      if(this.hasAuth(item)){\n        if(item.children){\n          pre.push(\n            <SubMenu  key={item.key}   title={\n              <span>\n                <Icon type={item.icon} />\n                <span>{item.title}</span>\n              </span>\n            }\n          >\n          { this.menuNav_reduce(item.children)  }\n          </SubMenu>\n          )\n        }else{\n        // 刷新页面的时候调用setHeadTitle\n          // const {pathname} = this.props.location\n          // if (pathname === item.key) {\n          //   setHeadTitle(item.title)\n          // }\n          pre.push(\n            <Menu.Item key={item.key}>\n            <Link to={item.key} onClick={()=>setHeadTitle(item.title)}>\n              <Icon type={item.icon} />\n              <span>{item.title}</span>\n            </Link>\n          </Menu.Item>\n          )\n        }  \n      }\n      return pre    \n    },[])\n  }\n \n  render() {\n    //这样是获取不到的，因为不是路由组件没有经过router的包装\n    let getCurrentReqPath=this.props.location.pathname \n    if(getCurrentReqPath.includes('/product')){getCurrentReqPath='/product'}\n    const getCurrentReqParentPath=this.getCurrentReqParentPath\n    return (\n      <div className='left-nav' >\n\n        <Link to='/'>\n          <header className='left-nav-header'>\n          <h1 className='left-nav-header-content'>管理系统</h1>\n          </header>\n        </Link>\n        \n        <Menu mode=\"inline\" theme=\"dark\" selectedKeys={[getCurrentReqPath]}\n         defaultOpenKeys={[getCurrentReqParentPath]}\n         >\n          {this.menuNav_reduce(menuLists)}\n        </Menu>\n\n      </div>\n    );\n  }\n}\nLeftNav.propTypes={\n  setHeadTitle:PropTypes.func.isRequired,\n  userInfo:PropTypes.object.isRequired,\n}\n// 该回调函数必须返回一个纯对象\nconst mapStateToProps=(state)=>({\n  userInfo:state.loginUserInfo\n})\nconst mapDispatchToProps=(dispatch)=>({\n  setHeadTitle:(title)=>{\n    dispatch(setHeadTitle(title))\n  }\n})\n\n// 高阶组件\n// 新的组件向非路由组件传递history、match、location\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(LeftNav))","import {SETHEADTITLE} from './action-type'\n\n// 设置title名称的同步action\nexport const setHeadTitle = (title)=>{\n  return {\n    type:SETHEADTITLE,\n    data:title\n  }\n}","export const SETHEADTITLE = 'set_head_title'","import React, { Component } from 'react';\nexport default class extends Component {\n  state = {  }\n  render() {\n    return (\n      <div>\n        Made with ❤ by XT\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { Spin } from 'antd';\n\nexport default class  extends Component {\n  state = {  }\n  \n  render() {\n    return (\n     <div style={{textAlign:'center',marginTop:'10%'}}>\n      <Spin tip=\"努力加载中...\" size='large'/>\n     </div>\n    );\n  }\n}","import React,{ Component ,lazy,Suspense} from 'react';\nimport {Redirect,Switch,Route} from 'react-router-dom'\nimport { Layout,BackTop} from 'antd';\nimport {connect} from 'react-redux'\nimport HeaderSelf from 'components/header'\nimport LeftNav from 'components/left-nav'\nimport FooterComponent from 'components/footer'\nimport Loading from 'components/loading'\n// 更改为路由懒加载的方式\n// import Home from '../home/home'\nconst Home = lazy(() => import('../home/home'));\nconst Category = lazy(() => import('../category/category'))\nconst Role = lazy(() => import('../role/role'))\nconst User = lazy(() => import('../user/user'))\nconst Product = lazy(() => import('../product'))\nconst Line = lazy(() => import('../charts/line'))\nconst Pie = lazy(() => import('../charts/pie'))\nconst Bar = lazy(() => import('../charts/bar'))\nconst GitHub = lazy(() => import('../github'))\nconst Order = lazy(() => import('../order'))\nconst NotFoundPage = lazy(() => import('components/404'))\n\n\nconst {Footer, Sider, Content } = Layout;\n\nclass Admin extends Component {\n  state = {\n    collapsed: false,\n  };\n  onCollapse = collapsed => {\n    this.setState({ collapsed });\n  };\n  render() {\n    const {userInfo} = this.props \n    if(!userInfo._id){\n      return <Redirect to='/login'/>\n    }\n    return (\n      <Layout style={{minHeight: '100%'}}>\n          <Sider  collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\n            <LeftNav/>\n          </Sider>\n          <Layout>\n            <HeaderSelf/>\n            <Content style={{margin:'100px 14px 14px',background:'#fff'}}>\n              <Suspense fallback={<Loading/>}>\n                <Switch>\n                <Route exact path='/' component={Home}/>\n                <Route path='/home' component={Home}/>\n                <Route path='/category' component={Category}/>\n                <Route path='/product' component={Product}/>\n                <Route path='/role' component={Role}/>\n                <Route path='/user' component={User}/>\n                <Route path='/charts/bar' component={Bar}/>\n                <Route path='/charts/line' component={Line}/>\n                <Route path='/charts/pie' component={Pie}/>\n                <Route path='/order' component={Order}/>\n                <Route path='/GitHub' component={GitHub}/>\n                <Route component={NotFoundPage}/>\n              </Switch>\n              </Suspense>\n            </Content>\n            <Footer style={{textAlign:'center',background:'#fff'}}>\n              <FooterComponent/>\n            </Footer>\n          </Layout>\n          <BackTop\n           visibilityHeight={100}\n          />\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps=(state)=>({\n  userInfo:state.loginUserInfo\n})\n\nexport default connect(mapStateToProps,null)(Admin)","import {LOGIN_USER_INFO,LOG_OUT} from './action-type'\nimport store from 'store'\nconst user = store.get('user_key') || {}\nexport default (state=user,action)=>{\n  switch(action.type){\n    case LOGIN_USER_INFO:\n      return action.data;\n    case LOG_OUT:\n      return {};\n    default :\n      return state;\n  } \n}","import {combineReducers} from  'redux' \nimport getHeadTitle from 'components/left-nav/reducer'\nimport loginUserInfo from '../pages/login/reducer'\n\n/**\n * @description 接收多个reducer合并成一个reducer\n * @default 接收的 reducer 返回的 state对象不能是 undefined\n */\nexport default combineReducers({\n  getHeadTitle,\n  loginUserInfo\n})\n\n\n","import { SETHEADTITLE } from './action-type'\n\n\nexport default (state = '首页', action) => {\n  switch (action.type) {\n    case SETHEADTITLE:\n      return action.data\n    default:\n      return state\n  }\n}","import {createStore,applyMiddleware} from 'redux'\nimport ReduxThunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension';\n// 生成环境配置\n// import { devToolsEnhancer } from 'redux-devtools-extension/logOnlyInProduction';\nimport appReducer from './reducer'\n\n/**\n * @description createStore(reducer,initState,applyMiddle)\n * @description  如果没有initState 默认第二项是中间件函数\n */\n\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// export default  createStore(reducer, /* preloadedState, */ composeEnhancers(applyMiddleware(ReduxThunk)))\n\n\n\n/** \n * @description 可以编写中间件增强dispatch的功能,例如redux-thunk等\n * @description 也可以编写 Store Enhancer 增强store的功能\n */\n\n//  增强dispatch的功能实现日志打印，返回了一个增强的store\n//  const doNothingEnhancer = (createStore) => (reducer, initStore, enhancer) => {\n//    const store = createStore(reducer, initStore, enhancer)\n//    const enhancerDispatch = store.dispatch;\n//    store.dispatch = (action) => {\n//      console.log('dispatch action', action)\n//      enhancerDispatch(action)\n//    }\n//    return store\n//  }\n//  export default doNothingEnhancer(createStore)(reducer,{},composeWithDevTools(applyMiddleware(ReduxThunk)))\n\nexport default createStore(appReducer,  process.env.NODE_ENV === 'development' ? composeWithDevTools(applyMiddleware(ReduxThunk)) : (applyMiddleware(ReduxThunk)))\n","/**\n * 应用根组件\n */\nimport React, { Component } from 'react';\nimport {BrowserRouter,Route,Switch} from 'react-router-dom'\nimport {Provider} from 'react-redux'\nimport Login from './pages/login/login'\nimport Admin from './pages/admin/admin'\nimport store from './utils/storeUtils'\nimport reduxStore from './redux'\n\n// 国际化配置\nimport { ConfigProvider } from 'antd';\nimport zh_CN from 'antd/es/locale-provider/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nmoment.locale('zh-cn');\n\nclass App extends Component {\n  render() {\n    const user= store.get('user_key')\n    store.user=user //每次渲染先取出来放到内存中，各个组件取的时候不用store再去取\n    return (\n    <Provider store={reduxStore}>\n      <ConfigProvider locale={zh_CN}>\n        <BrowserRouter>\n        <Switch>{/* switch只匹配一个path */}\n          <Route exact path={'/login'}  component={Login}></Route>\n          <Route path={'/'} component={Admin}></Route>\n        </Switch>\n      </BrowserRouter>\n    </ConfigProvider>\n    </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","/**\n * @description localStore\n */\nimport store from 'store'\nexport default {\n  user:null,\n  set(key, value){\n    // localStorage.setItem(key, JSON.stringify(value))\n    store.set(key,value)\n  },\n  get(key) {\n    // return JSON.parse(localStorage.getItem(key) || '{}')\n    return store.get(key)\n  },\n  remove(key){\n    // localStorage.removeItem(key)\n    store.remove(key)\n  },\n  clearAll(){\n    store.clearAll()\n  }\n}","/**\n * @description 封装axios\n */\n// import React from 'react';\nimport {message} from 'antd'\nimport store from 'store'\nimport config from '../config'\nimport axios from 'axios'\n// import {Redirect} from 'react-router-dom'\n\n// 把 Token 存在localStroage,每次请求在 Axios 请求头上进行携带\n// function redirect(){\n//   return  (<Redirect to={'/login'}></Redirect>)\n// }\n\n// 请求拦截\naxios.interceptors.request.use()\n\n// 响应拦截\naxios.interceptors.response.use(\n  response => {\n    return response\n  },\n  error => {\n    if (error.response) {\n      switch (error.response.status) {\n        case 401:\n        // store.clearAll();\n        // redirect();\n        break;\n        default:\n        return\n      }\n    }\n    return Promise.reject(error.response)\n  }\n)\n\nexport default function (url, type = 'GET', data={}) {\n  axios.defaults.headers.common['Authorization'] = store.get('token')\n  let promise;\n  url=config.baseURl+url\n  // 返回一个promise，统一处理错误\n  return new Promise((resolve, reject) => {\n    // 1.执行异步请求\n    if (type === 'GET') {\n      let paramStr = ''\n      Object.keys(data).forEach(key => {\n          paramStr += `${key}=${data[key]}&`\n      })\n      if(paramStr) {\n          paramStr = paramStr.substring(0, paramStr.length-1)\n        }\n      promise = axios.get(url+'?'+paramStr+'&t='+new Date())\n    } else {\n      promise = axios.post(url, data)\n    }\n    promise.then(res => {\n      // 2.成功调用resolve\n      if(res.data&&res.data.status===0){\n          resolve(res.data)\n      }else{\n        message.error(res.data.msg)\n        resolve(res.data)\n      }\n    }).catch(err => {\n      const {data}= err\n      if(data&&data.msg){\n        message.error('请求出错'+data.msg)\n        return \n      }\n      // 3.失败调用reject，但是不能调用，调用就进入外层catch里了，为了不在外层用try...catch这里显式的返回error\n      message.error('请求出错'+err.message)\n    })\n  })\n}","/**\n * @param 应用接口\n */\nimport request from '../utils/axios'\nimport jsonp from 'jsonp'\n// import md5 from 'md5'\nimport { message} from 'antd'\n\n// 登录\nexport const reqLogin = data => request('/login', 'POST', data)\n\n// 新增用户\nexport const reqAddUser = data => request('/manage/user/add', 'POST', data)\n\n// 删除用户\nexport const reqDeleteUser = data => request('/manage/user/delete', 'POST', data)\n\n// 更新用户\nexport const reqUpdateUser = data => request('/manage/user/update', 'POST', data)\n\n// 用户列表\nexport const reqUserList = data => request('/manage/user/list', 'GET', data)\n\n// 获取天气-百度api\nexport const reqWeather = (city) => {\n  return new Promise((resolve, reject) => {\n    const getData = (city) => {\n      const url = `https://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`\n      jsonp(url, {}, (err, data) => {\n        if (data && data.status === 'success') {\n          resolve(data.results[0].weather_data[0])\n        } else {\n          if(data){\n            message.error(data.status)\n          }else{\n            message.error('请求出错，请检查网络是否正常！')\n          }\n        }\n      })\n    }\n    getData(city)\n    // if (\"geolocation\" in navigator) {\n    //   getData()\n    //   navigator.geolocation.getCurrentPosition(function (position) {\n    //     console.log(position)\n    //     const city = `${position.coords.longitude},${position.coords.latitude}`\n    //     getData(city)\n    //   })\n    // } else {\n    //   getData()\n    // }\n  })\n}\n\n// 定位\nexport const reqAddress=()=>{\n    return new Promise((resolve,reject)=>{\n      jsonp('https://api.map.baidu.com/location/ip?ak=PFlNd9vKhGalbukR6ZIlFKzKvFsutPWV',(err,data)=>{\n        if(data&&data.status===0){\n          resolve(data.content)\n        }else{\n          message.error('请求定位接口失败')\n          reject('请求定位接口失败')\n        }\n      })\n    })\n}\n\n// 获取分类列表\nexport const reqCatagoryList=(data)=>request('/manage/category/list','GET',data)\n\n// 添加分类\nexport const reqAddCategory=(data)=>request('/manage/category/add','POST',data)\n\n// 删除分类\nexport const reqDeleteCategory=(data)=>request('/manage/category/delete','POST',data)\n\n// 更新分类\nexport const reqUpdateCategory=(data)=>request('/manage/category/update','POST',data)\n\n// 获取分类名称\nexport const reqCategoryName=(data)=>request('/manage/category/info','GET',data)\n\n// 添加产品\nexport const reqAddProduct=(data)=>request('/manage/product/add','POST',data)\n\n// 上传图片\nexport const reqUploadImg=(data)=>request('/manage/img/upload','POST',data)\n\n// 删除上传图片\nexport const reqDelUploadImg=(data)=>request('/manage/img/delete','POST',data)\n\n\n\n\n// 产品上架/下架\nexport const reqProductStatus=(data)=>request('/manage/product/updateStatus','POST',data)\n\n// 产品上架/下架\nexport const reqProductUpdate=(data)=>request('/manage/product/update','POST',data)\n\n// 删除产品\nexport const reqDeleteProduct=(data)=>request('/manage/product/delete','POST',data)\n\n// 获取产品列表\nexport const reqProductList=(data)=>request('/manage/product/list','GET',data)\n\n// 搜索产品\nexport const reqSearchProduct=(data)=>request('/manage/product/search','GET',data)\n\n\n// 添加角色\nexport const reqAddRole=(data)=>request('/manage/role/add','POST',data)\n\n// 删除角色\nexport const reqDeleteRole=(data)=>request('/manage/role/delete','POST',data)\n\n// 角色列表\nexport const reqRoleList=(data)=>request('/manage/role/list','GET',data)\n\n// 设置权限\nexport const reqSettingRole=(data)=>request('/manage/role/update','POST',data)"],"sourceRoot":""}